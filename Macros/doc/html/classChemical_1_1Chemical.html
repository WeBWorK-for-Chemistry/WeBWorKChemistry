<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>WeBWorKChemistry: Chemical::Chemical Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">WeBWorKChemistry
   &#160;<span id="projectnumber">0.90</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classChemical_1_1Chemical.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="classChemical_1_1Chemical-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Chemical::Chemical Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for Chemical::Chemical:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classChemical_1_1Chemical__inherit__graph.png" border="0" usemap="#Chemical_1_1Chemical_inherit__map" alt="Inheritance graph"/></div>
<map name="Chemical_1_1Chemical_inherit__map" id="Chemical_1_1Chemical_inherit__map">
<area shape="rect" title=" " alt="" coords="5,80,157,107"/>
<area shape="rect" href="classValue.html" title=" " alt="" coords="52,5,111,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for Chemical::Chemical:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classChemical_1_1Chemical__coll__graph.png" border="0" usemap="#Chemical_1_1Chemical_coll__map" alt="Collaboration graph"/></div>
<map name="Chemical_1_1Chemical_coll__map" id="Chemical_1_1Chemical_coll__map">
<area shape="rect" title=" " alt="" coords="105,241,257,268"/>
<area shape="rect" href="classValue.html" title=" " alt="" coords="5,5,64,32"/>
<area shape="rect" title=" " alt="" coords="88,5,189,32"/>
<area shape="rect" title=" " alt="" coords="213,5,307,32"/>
<area shape="rect" title=" " alt="" coords="417,5,513,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a84f78c92b5c18748b24cc5e07b5133bb"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChemical_1_1Chemical.html#a84f78c92b5c18748b24cc5e07b5133bb">name</a> ()</td></tr>
<tr class="separator:a84f78c92b5c18748b24cc5e07b5133bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9aec9275edcf1ec15f3e387f2e73568"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChemical_1_1Chemical.html#aa9aec9275edcf1ec15f3e387f2e73568">cmp_class</a> ()</td></tr>
<tr class="separator:aa9aec9275edcf1ec15f3e387f2e73568"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc41427f4dd05b472da35a89c97dcc4c"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChemical_1_1Chemical.html#abc41427f4dd05b472da35a89c97dcc4c">new</a> ()</td></tr>
<tr class="separator:abc41427f4dd05b472da35a89c97dcc4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b1f8253632a9b700455a0fced4d7ead"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChemical_1_1Chemical.html#a9b1f8253632a9b700455a0fced4d7ead">parseValue</a> ()</td></tr>
<tr class="separator:a9b1f8253632a9b700455a0fced4d7ead"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0a4ce2a82af034c533c8367e74659e2"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChemical_1_1Chemical.html#af0a4ce2a82af034c533c8367e74659e2">lcm</a> ()</td></tr>
<tr class="separator:af0a4ce2a82af034c533c8367e74659e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7d8cddfa2180c625e03b776ea9301ca"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChemical_1_1Chemical.html#aa7d8cddfa2180c625e03b776ea9301ca">gcd</a> ()</td></tr>
<tr class="separator:aa7d8cddfa2180c625e03b776ea9301ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7697e8ac5e45f32e16994f60f826437"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChemical_1_1Chemical.html#ac7697e8ac5e45f32e16994f60f826437">guid</a> ()</td></tr>
<tr class="separator:ac7697e8ac5e45f32e16994f60f826437"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b9c1a5f8da8cf9e7f5661e46d67980f"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChemical_1_1Chemical.html#a7b9c1a5f8da8cf9e7f5661e46d67980f">isElement</a> ()</td></tr>
<tr class="separator:a7b9c1a5f8da8cf9e7f5661e46d67980f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7d0fe3ed0cbcddf47a52ea3daa06b70"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChemical_1_1Chemical.html#ac7d0fe3ed0cbcddf47a52ea3daa06b70">standardState</a> ()</td></tr>
<tr class="separator:ac7d0fe3ed0cbcddf47a52ea3daa06b70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0e51e646092435c11ebb11d9b3f29b6"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChemical_1_1Chemical.html#ab0e51e646092435c11ebb11d9b3f29b6">meltingPoint</a> ()</td></tr>
<tr class="separator:ab0e51e646092435c11ebb11d9b3f29b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a350d262cab9b807a3e4ea2233808624b"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChemical_1_1Chemical.html#a350d262cab9b807a3e4ea2233808624b">boilingPoint</a> ()</td></tr>
<tr class="separator:a350d262cab9b807a3e4ea2233808624b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3eada73cd865e4c7058ab91787292a77"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChemical_1_1Chemical.html#a3eada73cd865e4c7058ab91787292a77">molarMass</a> ()</td></tr>
<tr class="separator:a3eada73cd865e4c7058ab91787292a77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d6b01d6a4a49ea543f10ba8a8fdf794"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChemical_1_1Chemical.html#a7d6b01d6a4a49ea543f10ba8a8fdf794">compareAtomNums</a> ()</td></tr>
<tr class="separator:a7d6b01d6a4a49ea543f10ba8a8fdf794"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e7cedcbd27854083e464e78c3da1195"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChemical_1_1Chemical.html#a1e7cedcbd27854083e464e78c3da1195">asNameString</a> ()</td></tr>
<tr class="separator:a1e7cedcbd27854083e464e78c3da1195"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a1e4b78e4aa8d953d1031f89fad91f6"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChemical_1_1Chemical.html#a1a1e4b78e4aa8d953d1031f89fad91f6">asNameTeX</a> ()</td></tr>
<tr class="separator:a1a1e4b78e4aa8d953d1031f89fad91f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2263a4e14151d9fd09da54290ddf47c"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChemical_1_1Chemical.html#af2263a4e14151d9fd09da54290ddf47c">asFormulaString</a> ()</td></tr>
<tr class="separator:af2263a4e14151d9fd09da54290ddf47c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa26b734c5d5bc68c35cc9c308a12a48f"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChemical_1_1Chemical.html#aa26b734c5d5bc68c35cc9c308a12a48f">asFormulaTeX</a> ()</td></tr>
<tr class="separator:aa26b734c5d5bc68c35cc9c308a12a48f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11f7fbb21dfd696a43d2318c28396338"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChemical_1_1Chemical.html#a11f7fbb21dfd696a43d2318c28396338">string</a> ()</td></tr>
<tr class="separator:a11f7fbb21dfd696a43d2318c28396338"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4efb48a608d71bb892ad24fe68a22b54"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChemical_1_1Chemical.html#a4efb48a608d71bb892ad24fe68a22b54">TeX</a> ()</td></tr>
<tr class="separator:a4efb48a608d71bb892ad24fe68a22b54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac25affca7347279037a59fc91655e81b"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChemical_1_1Chemical.html#ac25affca7347279037a59fc91655e81b">subscript</a> ()</td></tr>
<tr class="separator:ac25affca7347279037a59fc91655e81b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e9147000f312b6550bdf262fd52605b"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChemical_1_1Chemical.html#a8e9147000f312b6550bdf262fd52605b">subscriptReverse</a> ()</td></tr>
<tr class="separator:a8e9147000f312b6550bdf262fd52605b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac30d7484e73959118dbd3fe80e98a70d"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChemical_1_1Chemical.html#ac30d7484e73959118dbd3fe80e98a70d">superscript</a> ()</td></tr>
<tr class="separator:ac30d7484e73959118dbd3fe80e98a70d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaff46089885b4de52ad5fb579c784867"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChemical_1_1Chemical.html#aaff46089885b4de52ad5fb579c784867">superscriptReverse</a> ()</td></tr>
<tr class="separator:aaff46089885b4de52ad5fb579c784867"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9aec9275edcf1ec15f3e387f2e73568"><td class="memItemLeft" align="right" valign="top"><a id="aa9aec9275edcf1ec15f3e387f2e73568"></a>
public method&#160;</td><td class="memItemRight" valign="bottom"><b>cmp_class</b> ()</td></tr>
<tr class="separator:aa9aec9275edcf1ec15f3e387f2e73568"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adebfb94bc6aea69da3e502345fa7cd25"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChemical_1_1Chemical.html#adebfb94bc6aea69da3e502345fa7cd25">cmp</a> ()</td></tr>
<tr class="separator:adebfb94bc6aea69da3e502345fa7cd25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac565c9d97de5e661cb28f3388e22d539"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChemical_1_1Chemical.html#ac565c9d97de5e661cb28f3388e22d539">cmp_parse</a> ()</td></tr>
<tr class="separator:ac565c9d97de5e661cb28f3388e22d539"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a6eab611ae5195d099d2503df02f376"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChemical_1_1Chemical.html#a3a6eab611ae5195d099d2503df02f376">grade</a> ()</td></tr>
<tr class="separator:a3a6eab611ae5195d099d2503df02f376"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:aafd62dd1cdccb0b63a12cf2b6cb60eca"><td class="memItemLeft" align="right" valign="top"><a id="aafd62dd1cdccb0b63a12cf2b6cb60eca"></a>
static array&#160;</td><td class="memItemRight" valign="bottom"><b>elements</b></td></tr>
<tr class="separator:aafd62dd1cdccb0b63a12cf2b6cb60eca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43470a563458498d9339e69fd1c0b8cf"><td class="memItemLeft" align="right" valign="top"><a id="a43470a563458498d9339e69fd1c0b8cf"></a>
static array&#160;</td><td class="memItemRight" valign="bottom"><b>paulingElectronegativities</b></td></tr>
<tr class="separator:a43470a563458498d9339e69fd1c0b8cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a106f30055338a180e221e4ac22c56c0f"><td class="memItemLeft" align="right" valign="top"><a id="a106f30055338a180e221e4ac22c56c0f"></a>
static array&#160;</td><td class="memItemRight" valign="bottom"><b>atomicMasses</b></td></tr>
<tr class="separator:a106f30055338a180e221e4ac22c56c0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af42c6b6e0f7ed71b8ade0b3fe88c0cc4"><td class="memItemLeft" align="right" valign="top"><a id="af42c6b6e0f7ed71b8ade0b3fe88c0cc4"></a>
static array&#160;</td><td class="memItemRight" valign="bottom"><b>stateOfMatter</b></td></tr>
<tr class="separator:af42c6b6e0f7ed71b8ade0b3fe88c0cc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34365a89713e0b2c31e104db31973e84"><td class="memItemLeft" align="right" valign="top"><a id="a34365a89713e0b2c31e104db31973e84"></a>
static array&#160;</td><td class="memItemRight" valign="bottom"><b>meltingPoints</b></td></tr>
<tr class="separator:a34365a89713e0b2c31e104db31973e84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89d72c32921f99f772a02cde8f4a347c"><td class="memItemLeft" align="right" valign="top"><a id="a89d72c32921f99f772a02cde8f4a347c"></a>
static array&#160;</td><td class="memItemRight" valign="bottom"><b>boilingPoints</b></td></tr>
<tr class="separator:a89d72c32921f99f772a02cde8f4a347c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ca25882073a81c100f7884103d996e3"><td class="memItemLeft" align="right" valign="top"><a id="a5ca25882073a81c100f7884103d996e3"></a>
static hash&#160;</td><td class="memItemRight" valign="bottom"><b>valenceStandardMap</b></td></tr>
<tr class="separator:a5ca25882073a81c100f7884103d996e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c692237650491b3dd8d2fdab50c401d"><td class="memItemLeft" align="right" valign="top"><a id="a3c692237650491b3dd8d2fdab50c401d"></a>
static hash&#160;</td><td class="memItemRight" valign="bottom"><b>polyatomicFormulaVariations</b></td></tr>
<tr class="separator:a3c692237650491b3dd8d2fdab50c401d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e66f746205c0cdbc5b5d62be2fb87e1"><td class="memItemLeft" align="right" valign="top"><a id="a5e66f746205c0cdbc5b5d62be2fb87e1"></a>
static hash&#160;</td><td class="memItemRight" valign="bottom"><b>polyatomicIons</b></td></tr>
<tr class="separator:a5e66f746205c0cdbc5b5d62be2fb87e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaea5fe2efbaecc3e65af6ef398273fe8"><td class="memItemLeft" align="right" valign="top"><a id="aaea5fe2efbaecc3e65af6ef398273fe8"></a>
static hash&#160;</td><td class="memItemRight" valign="bottom"><b>multiAtomElements</b></td></tr>
<tr class="separator:aaea5fe2efbaecc3e65af6ef398273fe8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06214611b19e2413137699b1d2347c42"><td class="memItemLeft" align="right" valign="top"><a id="a06214611b19e2413137699b1d2347c42"></a>
static hash&#160;</td><td class="memItemRight" valign="bottom"><b>standardIons</b></td></tr>
<tr class="separator:a06214611b19e2413137699b1d2347c42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e6a5954ac40ed318eabcabbbf26627f"><td class="memItemLeft" align="right" valign="top"><a id="a1e6a5954ac40ed318eabcabbbf26627f"></a>
static hash&#160;</td><td class="memItemRight" valign="bottom"><b>elementProperties</b></td></tr>
<tr class="separator:a1e6a5954ac40ed318eabcabbbf26627f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a666d55852e4dd441641566be753243ff"><td class="memItemLeft" align="right" valign="top"><a id="a666d55852e4dd441641566be753243ff"></a>
static hash&#160;</td><td class="memItemRight" valign="bottom"><b>namedRecognitionTargets</b></td></tr>
<tr class="separator:a666d55852e4dd441641566be753243ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fe15005c7fb764e01e4e4d591836d45"><td class="memItemLeft" align="right" valign="top"><a id="a1fe15005c7fb764e01e4e4d591836d45"></a>
static hash&#160;</td><td class="memItemRight" valign="bottom"><b>commonNames</b></td></tr>
<tr class="separator:a1fe15005c7fb764e01e4e4d591836d45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad55d7b98cb35d54cfd0446e267ddac5e"><td class="memItemLeft" align="right" valign="top"><a id="ad55d7b98cb35d54cfd0446e267ddac5e"></a>
static hash&#160;</td><td class="memItemRight" valign="bottom"><b>romanNumerals</b></td></tr>
<tr class="separator:ad55d7b98cb35d54cfd0446e267ddac5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a725879b9ac7fad63da060eb8b33467d6"><td class="memItemLeft" align="right" valign="top"><a id="a725879b9ac7fad63da060eb8b33467d6"></a>
static hash&#160;</td><td class="memItemRight" valign="bottom"><b>prefixesCovalent</b></td></tr>
<tr class="separator:a725879b9ac7fad63da060eb8b33467d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a2a3e26307ff1edcc0a964b5e2d51fb1c"><td class="memItemLeft" align="right" valign="top"><a id="a2a3e26307ff1edcc0a964b5e2d51fb1c"></a>
static hash&#160;</td><td class="memItemRight" valign="bottom"><b>additionalVariants</b></td></tr>
<tr class="separator:a2a3e26307ff1edcc0a964b5e2d51fb1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68eb92e1f040b9922e7cfb47a9e3e643"><td class="memItemLeft" align="right" valign="top"><a id="a68eb92e1f040b9922e7cfb47a9e3e643"></a>
static scalar&#160;</td><td class="memItemRight" valign="bottom"><b>newKey</b></td></tr>
<tr class="separator:a68eb92e1f040b9922e7cfb47a9e3e643"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="contextChemical_8pl_source.html#l01239">1239</a> of file <a class="el" href="contextChemical_8pl_source.html">contextChemical.pl</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="af2263a4e14151d9fd09da54290ddf47c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2263a4e14151d9fd09da54290ddf47c">&#9670;&nbsp;</a></span>asFormulaString()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Chemical::Chemical::asFormulaString </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method </p>
<div id='codesection-asFormulaString' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-asFormulaString-trigger' src='closed.png' alt='open/close icon' style='display:inline'/> <b>Code:</b>
</div>
<div id='codesection-asFormulaString-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-asFormulaString-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in asFormulaString: 4</span></div>
<div class="line">sub <a class="code" href="classChemical_1_1Chemical.html#af2263a4e14151d9fd09da54290ddf47c">asFormulaString</a> {</div>
<div class="line">    my $self =shift;</div>
<div class="line">    <span class="keywordflow">return</span> $self-&gt;string({<span class="stringliteral">&#39;asFormula&#39;</span>=&gt;1});</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
 
</div>
</div>
<a id="aa26b734c5d5bc68c35cc9c308a12a48f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa26b734c5d5bc68c35cc9c308a12a48f">&#9670;&nbsp;</a></span>asFormulaTeX()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Chemical::Chemical::asFormulaTeX </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method </p>
<div id='codesection-asFormulaTeX' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-asFormulaTeX-trigger' src='closed.png' alt='open/close icon' style='display:inline'/> <b>Code:</b>
</div>
<div id='codesection-asFormulaTeX-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-asFormulaTeX-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in asFormulaTeX: 4</span></div>
<div class="line">sub <a class="code" href="classChemical_1_1Chemical.html#aa26b734c5d5bc68c35cc9c308a12a48f">asFormulaTeX</a> {</div>
<div class="line">    my $self =shift;</div>
<div class="line">    <span class="keywordflow">return</span> $self-&gt;TeX({<span class="stringliteral">&#39;asFormula&#39;</span>=&gt;1});</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
 
</div>
</div>
<a id="a1e7cedcbd27854083e464e78c3da1195"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e7cedcbd27854083e464e78c3da1195">&#9670;&nbsp;</a></span>asNameString()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Chemical::Chemical::asNameString </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method </p>
<div id='codesection-asNameString' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-asNameString-trigger' src='closed.png' alt='open/close icon' style='display:inline'/> <b>Code:</b>
</div>
<div id='codesection-asNameString-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-asNameString-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in asNameString: 4</span></div>
<div class="line">sub <a class="code" href="classChemical_1_1Chemical.html#a1e7cedcbd27854083e464e78c3da1195">asNameString</a> {</div>
<div class="line">    my $self =shift;</div>
<div class="line">    <span class="keywordflow">return</span> $self-&gt;string({<span class="stringliteral">&#39;asName&#39;</span>=&gt;1});</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
 
</div>
</div>
<a id="a1a1e4b78e4aa8d953d1031f89fad91f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a1e4b78e4aa8d953d1031f89fad91f6">&#9670;&nbsp;</a></span>asNameTeX()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Chemical::Chemical::asNameTeX </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method </p>
<div id='codesection-asNameTeX' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-asNameTeX-trigger' src='closed.png' alt='open/close icon' style='display:inline'/> <b>Code:</b>
</div>
<div id='codesection-asNameTeX-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-asNameTeX-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in asNameTeX: 4</span></div>
<div class="line">sub <a class="code" href="classChemical_1_1Chemical.html#a1a1e4b78e4aa8d953d1031f89fad91f6">asNameTeX</a> {</div>
<div class="line">    my $self =shift;</div>
<div class="line">    <span class="keywordflow">return</span> $self-&gt;TeX({<span class="stringliteral">&#39;asName&#39;</span>=&gt;1});</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
 
</div>
</div>
<a id="a350d262cab9b807a3e4ea2233808624b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a350d262cab9b807a3e4ea2233808624b">&#9670;&nbsp;</a></span>boilingPoint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Chemical::Chemical::boilingPoint </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method </p>
<div id='codesection-boilingPoint' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-boilingPoint-trigger' src='closed.png' alt='open/close icon' style='display:inline'/> <b>Code:</b>
</div>
<div id='codesection-boilingPoint-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-boilingPoint-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in boilingPoint: 10</span></div>
<div class="line">sub <a class="code" href="classChemical_1_1Chemical.html#a350d262cab9b807a3e4ea2233808624b">boilingPoint</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $elementNum = $self-&gt;isElement({returnElement=&gt;1});</div>
<div class="line">    <span class="keywordflow">if</span> (defined $elementNum){</div>
<div class="line">        my $bp = $boilingPoints[$elementNum-1];</div>
<div class="line">        <span class="keywordflow">return</span> $bp;</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
 
</div>
</div>
<a id="adebfb94bc6aea69da3e502345fa7cd25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adebfb94bc6aea69da3e502345fa7cd25">&#9670;&nbsp;</a></span>cmp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Chemical::Chemical::cmp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method </p>
<div id='codesection-cmp' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-cmp-trigger' src='closed.png' alt='open/close icon' style='display:inline'/> <b>Code:</b>
</div>
<div id='codesection-cmp-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-cmp-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in cmp: 56</span></div>
<div class="line">sub <a class="code" href="classChemical_1_1Chemical.html#adebfb94bc6aea69da3e502345fa7cd25">cmp</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line"><span class="preprocessor">    #warn %$self;</span></div>
<div class="line">    my $outputType=$self-&gt;{outputType};  # 1 is required <a class="code" href="classChemical_1_1Chemical.html#a84f78c92b5c18748b24cc5e07b5133bb">name</a>, 2 is required formula</div>
<div class="line">    </div>
<div class="line">    my $correct_ans;</div>
<div class="line">    my $correct_ans_latex_string;</div>
<div class="line">    <span class="keywordflow">if</span> ($outputType == 1){</div>
<div class="line">        $correct_ans = $self-&gt;asNameString;</div>
<div class="line">        $correct_ans_latex_string = $self-&gt;asNameTeX;</div>
<div class="line">    } elsif ($outputType == 2){</div>
<div class="line">        $correct_ans = $self-&gt;asFormulaString;</div>
<div class="line">        $correct_ans_latex_string = $self-&gt;asFormulaTeX;</div>
<div class="line"> </div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        $correct_ans = $self-&gt;string;</div>
<div class="line">        $correct_ans_latex_string = $self-&gt;TeX;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    my $cmp = $self-&gt;SUPER::cmp(</div>
<div class="line">        correct_ans =&gt; $correct_ans,</div>
<div class="line">        correct_ans_latex_string =&gt;  $correct_ans_latex_string,</div>
<div class="line">        @_</div>
<div class="line">    );  </div>
<div class="line"> </div>
<div class="line">    $cmp-&gt;install_pre_filter(<span class="stringliteral">&#39;erase&#39;</span>);</div>
<div class="line">    $cmp-&gt;install_pre_filter(sub {</div>
<div class="line">        my $ans = shift;</div>
<div class="line">        $answerBlank = 0;</div>
<div class="line">        </div>
<div class="line">        $test = $ans-&gt;{student_ans} ;</div>
<div class="line">        <span class="keywordflow">if</span> (!$test){</div>
<div class="line"><span class="preprocessor">            #warn &quot;EMPTY&quot;;</span></div>
<div class="line">            $ans-&gt;{student_ans} = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        $answerBlank = $self-&gt;new($ans-&gt;{student_ans});</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">        #warn &quot;ANSWER BLANK:  &quot; . $answerBlank-&gt;string ;</span></div>
<div class="line"><span class="preprocessor">        # if ($ans-&gt;{student_ans} eq &#39;&#39;){</span></div>
<div class="line"><span class="preprocessor">        #   #$inexactStudent = $self-&gt;new(0,$inf);  #blank answer is zero with infinite sf</span></div>
<div class="line"><span class="preprocessor">        # } else {</span></div>
<div class="line">            </div>
<div class="line">            </div>
<div class="line"><span class="preprocessor">        # }</span></div>
<div class="line"><span class="preprocessor">        #warn &quot;$answerBlank&quot;;</span></div>
<div class="line"><span class="preprocessor">        #warn $answerBlank-&gt;TeX;</span></div>
<div class="line">        $ans-&gt;{student_value} = $answerBlank;</div>
<div class="line">        $ans-&gt;{preview_latex_string} = $answerBlank-&gt;TeX;</div>
<div class="line">        $ans-&gt;{student_ans} = $answerBlank-&gt;string; </div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> $ans;</div>
<div class="line">    });</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> $cmp;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
 
</div>
</div>
<a id="aa9aec9275edcf1ec15f3e387f2e73568"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9aec9275edcf1ec15f3e387f2e73568">&#9670;&nbsp;</a></span>cmp_class()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Chemical::Chemical::cmp_class </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method </p>
<div id='codesection-cmp_class' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-cmp_class-trigger' src='closed.png' alt='open/close icon' style='display:inline'/> <b>Code:</b>
</div>
<div id='codesection-cmp_class-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-cmp_class-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in cmp_class: 2</span></div>
<div class="line">sub <a class="code" href="classChemical_1_1Chemical.html#aa9aec9275edcf1ec15f3e387f2e73568">cmp_class</a> {<span class="stringliteral">&#39;Chemical&#39;</span>};</div>
<div class="line">sub <a class="code" href="classChemical_1_1Chemical.html#aa9aec9275edcf1ec15f3e387f2e73568">cmp_class</a> {<span class="stringliteral">&quot;Chemical&quot;</span>}</div>
</div><!-- fragment -->
</div>
 
</div>
</div>
<a id="ac565c9d97de5e661cb28f3388e22d539"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac565c9d97de5e661cb28f3388e22d539">&#9670;&nbsp;</a></span>cmp_parse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Chemical::Chemical::cmp_parse </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method </p>
<div id='codesection-cmp_parse' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-cmp_parse-trigger' src='closed.png' alt='open/close icon' style='display:inline'/> <b>Code:</b>
</div>
<div id='codesection-cmp_parse-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-cmp_parse-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in cmp_parse: 52</span></div>
<div class="line">sub <a class="code" href="classChemical_1_1Chemical.html#ac565c9d97de5e661cb28f3388e22d539">cmp_parse</a> {</div>
<div class="line">    my $self = shift; my $ans = shift;</div>
<div class="line"> </div>
<div class="line">    my $outputType= $ans-&gt;{correct_value}-&gt;{outputType};  # 1 is required <a class="code" href="classChemical_1_1Chemical.html#a84f78c92b5c18748b24cc5e07b5133bb">name</a>, 2 is required formula</div>
<div class="line"><span class="preprocessor">    # if (defined($self-&gt;context-&gt;flags-&gt;get(&#39;requireFormula&#39;))){</span></div>
<div class="line"><span class="preprocessor">    #   $requireFormula = $self-&gt;context-&gt;flags-&gt;get(&#39;requireFormula&#39;);</span></div>
<div class="line"><span class="preprocessor">    #   $outputType = 2;</span></div>
<div class="line"><span class="preprocessor">    # }</span></div>
<div class="line"><span class="preprocessor">    # if (defined($self-&gt;context-&gt;flags-&gt;get(&#39;requireName&#39;))){</span></div>
<div class="line"><span class="preprocessor">    #   $requireName = $self-&gt;context-&gt;flags-&gt;get(&#39;requireName&#39;);</span></div>
<div class="line"><span class="preprocessor">    #   $outputType = 1;</span></div>
<div class="line"><span class="preprocessor">    # }</span></div>
<div class="line"><span class="preprocessor">    # if ($requireFormula &amp;&amp; $requireName){</span></div>
<div class="line"><span class="preprocessor">    #   die &quot;You can&#39;t set both formula and name as required.&quot;;</span></div>
<div class="line"><span class="preprocessor">    # }</span></div>
<div class="line"> </div>
<div class="line">    my $disorderPenalty = 0.5; # percentage of total.  This should be used <span class="keywordflow">for</span> ionic.  Maybe <span class="keywordflow">for</span> covalent.</div>
<div class="line">    <span class="keywordflow">if</span> (defined($self-&gt;context-&gt;flags-&gt;get(<span class="stringliteral">&#39;disorderPenalty&#39;</span>))){</div>
<div class="line">        $disorderPenalty = $self-&gt;context-&gt;flags-&gt;get(<span class="stringliteral">&#39;disorderPenalty&#39;</span>);</div>
<div class="line">    }</div>
<div class="line">    my $matchAtomicNumber=0.5;</div>
<div class="line">    <span class="keywordflow">if</span> (defined($self-&gt;context-&gt;flags-&gt;get(<span class="stringliteral">&#39;matchAtomicNumber&#39;</span>))){</div>
<div class="line">        $matchAtomicNumber = $self-&gt;context-&gt;flags-&gt;get(<span class="stringliteral">&#39;matchAtomicNumber&#39;</span>);</div>
<div class="line">    }</div>
<div class="line">    my $matchCount=0.5;</div>
<div class="line">    <span class="keywordflow">if</span> (defined($self-&gt;context-&gt;flags-&gt;get(<span class="stringliteral">&#39;matchCount&#39;</span>))){</div>
<div class="line">        $matchCount = $self-&gt;context-&gt;flags-&gt;get(<span class="stringliteral">&#39;matchCount&#39;</span>);</div>
<div class="line">    }</div>
<div class="line">    my $chargePenalty=0.5;</div>
<div class="line">    <span class="keywordflow">if</span> (defined($self-&gt;context-&gt;flags-&gt;get(<span class="stringliteral">&#39;chargePenalty&#39;</span>))){</div>
<div class="line">        $chargePenalty = $self-&gt;context-&gt;flags-&gt;get(<span class="stringliteral">&#39;chargePenalty&#39;</span>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    my $correct = $ans-&gt;{correct_value};</div>
<div class="line">    my $student = $ans-&gt;{student_value};</div>
<div class="line">    $ans-&gt;{_filter_name} = <span class="stringliteral">&quot;Chemcial answer checker&quot;</span>;</div>
<div class="line"> </div>
<div class="line">    $ans-&gt;score(0); # assume failure</div>
<div class="line">    $self-&gt;context-&gt;clearError();</div>
<div class="line"> </div>
<div class="line">    $currentCredit = 0;</div>
<div class="line"> </div>
<div class="line">    $currentCredit = <a class="code" href="classChemical_1_1Chemical.html#a3a6eab611ae5195d099d2503df02f376">grade</a>(</div>
<div class="line">        $correct, </div>
<div class="line">        $student, </div>
<div class="line">        {outputType=&gt;$outputType, disorderPenalty=&gt;$disorderPenalty, matchAtomicNumber=&gt;$matchAtomicNumber, matchCount=&gt;$matchCount, chargePenalty=&gt;$chargePenalty}</div>
<div class="line">    );</div>
<div class="line">        </div>
<div class="line">    $ans-&gt;score($currentCredit);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> $ans;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
 
</div>
</div>
<a id="a7d6b01d6a4a49ea543f10ba8a8fdf794"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d6b01d6a4a49ea543f10ba8a8fdf794">&#9670;&nbsp;</a></span>compareAtomNums()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Chemical::Chemical::compareAtomNums </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method </p>
<div id='codesection-compareAtomNums' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-compareAtomNums-trigger' src='closed.png' alt='open/close icon' style='display:inline'/> <b>Code:</b>
</div>
<div id='codesection-compareAtomNums-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-compareAtomNums-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in compareAtomNums: 41</span></div>
<div class="line">sub <a class="code" href="classChemical_1_1Chemical.html#a7d6b01d6a4a49ea543f10ba8a8fdf794">compareAtomNums</a> {</div>
<div class="line">    my $a1r = shift;</div>
<div class="line">    my $a2r = shift;</div>
<div class="line">    <span class="keywordflow">if</span> (!defined($a1r) || !defined($a2r)){</div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">if</span> (ref($a1r) eq <span class="stringliteral">&#39;ARRAY&#39;</span> &amp;&amp; ref($a2r) ne <span class="stringliteral">&#39;ARRAY&#39;</span>){</div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (ref($a1r) ne <span class="stringliteral">&#39;ARRAY&#39;</span> &amp;&amp; ref($a2r) eq <span class="stringliteral">&#39;ARRAY&#39;</span>){</div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (ref($a1r) ne <span class="stringliteral">&#39;ARRAY&#39;</span> &amp;&amp; ref($a2r) ne <span class="stringliteral">&#39;ARRAY&#39;</span>){</div>
<div class="line">        <span class="keywordflow">return</span> $a1r eq $a2r;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    my @a1 = @$a1r; #create copy of array</div>
<div class="line">    my @a2 = @$a2r;</div>
<div class="line">    <span class="keywordflow">if</span> (scalar @a1 != scalar @a2){</div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    my $found=0;</div>
<div class="line">    <span class="keywordflow">for</span> (my $i=scalar @a1 - 1; $i&gt;=0; $i--){</div>
<div class="line">        <span class="keywordflow">for</span> (my $j=scalar @a2 -1; $j&gt;=0; $j--){</div>
<div class="line">            <span class="keywordflow">if</span> ($a1[$i] == $a2[$j]){</div>
<div class="line"> </div>
<div class="line">                splice(@a2, $j,1);</div>
<div class="line">                splice(@a1, $i,1);                              </div>
<div class="line">                last;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (scalar @a1 == 0 &amp;&amp; scalar @a2 == 0){</div>
<div class="line">        <span class="keywordflow">return</span> 1;</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
 
</div>
</div>
<a id="aa7d8cddfa2180c625e03b776ea9301ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7d8cddfa2180c625e03b776ea9301ca">&#9670;&nbsp;</a></span>gcd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Chemical::Chemical::gcd </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method </p>
<div id='codesection-gcd' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-gcd-trigger' src='closed.png' alt='open/close icon' style='display:inline'/> <b>Code:</b>
</div>
<div id='codesection-gcd-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-gcd-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in gcd: 12</span></div>
<div class="line">sub <a class="code" href="classChemical_1_1Chemical.html#aa7d8cddfa2180c625e03b776ea9301ca">gcd</a> {</div>
<div class="line">    my $a = shift;</div>
<div class="line">    my $b = shift;</div>
<div class="line"> </div>
<div class="line">    my $rem = 0;</div>
<div class="line">    <span class="keywordflow">while</span> ($b != 0){</div>
<div class="line">        $rem = $a % $b;</div>
<div class="line">        $a = $b;</div>
<div class="line">        $b = $rem;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> $a;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
 
</div>
</div>
<a id="a3a6eab611ae5195d099d2503df02f376"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a6eab611ae5195d099d2503df02f376">&#9670;&nbsp;</a></span>grade()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Chemical::Chemical::grade </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method </p>
<div id='codesection-grade' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-grade-trigger' src='closed.png' alt='open/close icon' style='display:inline'/> <b>Code:</b>
</div>
<div id='codesection-grade-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-grade-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in grade: 93</span></div>
<div class="line">sub <a class="code" href="classChemical_1_1Chemical.html#a3a6eab611ae5195d099d2503df02f376">grade</a> {</div>
<div class="line">    my $correct = shift;</div>
<div class="line">    my $student = shift;</div>
<div class="line">    my $options = shift;</div>
<div class="line"> </div>
<div class="line">    my $first = $correct-&gt;{data};</div>
<div class="line">    my $second = $student-&gt;{data};</div>
<div class="line">    my $outputType = $options-&gt;{outputType};</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (scalar @$second == 0){</div>
<div class="line"><span class="preprocessor">        #warn &quot;HERE&quot;;</span></div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">    # formula required but student gave name</span></div>
<div class="line">    <span class="keywordflow">if</span> ($outputType == 2 &amp;&amp; $student-&gt;{nameInputed}){</div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line">    }</div>
<div class="line"><span class="preprocessor">    # # name required but student gave formula</span></div>
<div class="line">    <span class="keywordflow">if</span> ($outputType == 1 &amp;&amp; $student-&gt;{nameInputed} == 0){</div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line">    }</div>
<div class="line"><span class="preprocessor">    # Anything that has more or fewer elements than the correct value is all wrong.</span></div>
<div class="line">    <span class="keywordflow">if</span> (scalar @$first != scalar @$second){</div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    my @firstCopy = @$first;</div>
<div class="line">    my @secondCopy = @$second; </div>
<div class="line"> </div>
<div class="line">    my $totalScore = 0;</div>
<div class="line"><span class="preprocessor">    # score per component.  this should be modifiable via context</span></div>
<div class="line">    my $matchAtomNum=$options-&gt;{matchAtomicNumber};</div>
<div class="line">    my $matchCount= $options-&gt;{matchCount};</div>
<div class="line">    my $chargePenalty= $options-&gt;{chargePenalty};</div>
<div class="line">    my $disorderPenalty = $options-&gt;{disorderPenalty};</div>
<div class="line"> </div>
<div class="line">    my $isDisordered = 0;</div>
<div class="line"> </div>
<div class="line">    my $firstCharge=0;</div>
<div class="line">    my $secondCharge=0;</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">    # order matters for chemical formula (and names)</span></div>
<div class="line"><span class="preprocessor">    # option for partial credit if correct, but out of order</span></div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (my $j=scalar @secondCopy - 1; $j &gt;= 0; $j--){</div>
<div class="line">        <span class="keywordflow">for</span> (my $i=scalar @firstCopy - 1; $i &gt;= 0; $i--){</div>
<div class="line">            <span class="keywordflow">if</span> (<a class="code" href="classChemical_1_1Chemical.html#a7d6b01d6a4a49ea543f10ba8a8fdf794">compareAtomNums</a>($secondCopy[$j]-&gt;{atomNum}, $firstCopy[$i]-&gt;{atomNum})){</div>
<div class="line">                </div>
<div class="line">                $totalScore += $matchAtomNum/(scalar @$first);</div>
<div class="line"><span class="preprocessor">                # if second element and not polyatomic, make sure ending was &quot;ide&quot;</span></div>
<div class="line">                <span class="keywordflow">if</span> ($correct-&gt;{bonding} != 0 &amp;&amp; $i == 1  &amp;&amp; exists($secondCopy[$j]-&gt;{<a class="code" href="classChemical_1_1Chemical.html#a84f78c92b5c18748b24cc5e07b5133bb">name</a>}) &amp;&amp; !($secondCopy[$j]-&gt;{<a class="code" href="classChemical_1_1Chemical.html#a84f78c92b5c18748b24cc5e07b5133bb">name</a>} =~ /ide$/)){</div>
<div class="line"><span class="preprocessor">                    #warn &quot;doesn&#39;t end with ide&quot;;</span></div>
<div class="line">                    $totalScore -= $matchAtomNum/(scalar @$first);</div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">                # now check count</span></div>
<div class="line">                <span class="keywordflow">if</span> ($secondCopy[$j]-&gt;{count} == @firstCopy[$i]-&gt;{count}){</div>
<div class="line"><span class="preprocessor">                    # same number!</span></div>
<div class="line"><span class="preprocessor">                    # if covalent and first element, make sure no prefix was recorded if only 1 of them.</span></div>
<div class="line">                    unless ($correct-&gt;{bonding} == 2 &amp;&amp; $i == 0  &amp;&amp; exists($secondCopy[$j]-&gt;{prefix}) &amp;&amp; $secondCopy[$j]-&gt;{prefix}==1){</div>
<div class="line">                        $totalScore += $matchCount/(scalar @$first); </div>
<div class="line">                    } </div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">if</span> (defined $firstCopy[$i]-&gt;{charge}){</div>
<div class="line">                    $firstCharge += $firstCopy[$i]-&gt;{charge};</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">if</span> (defined $secondCopy[$j]-&gt;{charge}){</div>
<div class="line">                    $secondCharge += $secondCopy[$j]-&gt;{charge};</div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line">                splice(@secondCopy, $j, 1);</div>
<div class="line">                splice(@firstCopy, $i, 1);</div>
<div class="line">                <span class="keywordflow">if</span> ($j != $i){</div>
<div class="line">                    $isDisordered = 1;</div>
<div class="line">                }</div>
<div class="line">                last;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">    # overall charge!</span></div>
<div class="line">    <span class="keywordflow">if</span> ($firstCharge != $secondCharge){</div>
<div class="line">        $totalScore *= $chargePenalty;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> ($isDisordered){</div>
<div class="line">        $totalScore *= $disorderPenalty;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> $totalScore;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
 
</div>
</div>
<a id="ac7697e8ac5e45f32e16994f60f826437"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7697e8ac5e45f32e16994f60f826437">&#9670;&nbsp;</a></span>guid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Chemical::Chemical::guid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method </p>
<div id='codesection-guid' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-guid-trigger' src='closed.png' alt='open/close icon' style='display:inline'/> <b>Code:</b>
</div>
<div id='codesection-guid-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-guid-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in guid: 5</span></div>
<div class="line">sub <a class="code" href="classChemical_1_1Chemical.html#ac7697e8ac5e45f32e16994f60f826437">guid</a> {</div>
<div class="line"><span class="preprocessor">    # for now, we&#39;ll use the string as the guid, but this won&#39;t work for future versions where isomers can be distinguished.</span></div>
<div class="line">    my $self = shift;</div>
<div class="line">    <span class="keywordflow">return</span> $self-&gt;string({asFormula=&gt;1});</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
 
</div>
</div>
<a id="a7b9c1a5f8da8cf9e7f5661e46d67980f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b9c1a5f8da8cf9e7f5661e46d67980f">&#9670;&nbsp;</a></span>isElement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Chemical::Chemical::isElement </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method </p>
<div id='codesection-isElement' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-isElement-trigger' src='closed.png' alt='open/close icon' style='display:inline'/> <b>Code:</b>
</div>
<div id='codesection-isElement-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-isElement-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in isElement: 31</span></div>
<div class="line">sub <a class="code" href="classChemical_1_1Chemical.html#a7b9c1a5f8da8cf9e7f5661e46d67980f">isElement</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $options = shift;</div>
<div class="line"><span class="preprocessor">    # each item in data can be a polyatomic, not just an element.  Need to parse through.</span></div>
<div class="line">    my %uniqueElements = ();</div>
<div class="line">    <span class="keywordflow">foreach</span> my $component (@{$self-&gt;{data}}) {</div>
<div class="line"><span class="preprocessor">        # check if atomNum is an array...</span></div>
<div class="line">        <span class="keywordflow">if</span> (ref $component-&gt;{atomNum} eq <span class="stringliteral">&#39;ARRAY&#39;</span>){</div>
<div class="line"><span class="preprocessor">            # This part is a mess mostly due to weirdos like O_2.  This gets detected as peroxide (same formula), but without a charge.</span></div>
<div class="line">            <span class="keywordflow">foreach</span> my $subComponent (@{$component-&gt;{atomNum}}) {</div>
<div class="line">                unless (exists $uniqueElements{$component-&gt;{atomNum}}){</div>
<div class="line">                    $uniqueElements{$component-&gt;{atomNum}} = 1;</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            unless (exists $uniqueElements{$component-&gt;{atomNum}}){</div>
<div class="line">                $uniqueElements{$component-&gt;{atomNum}} = 1;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (defined $options &amp;&amp; exists $options-&gt;{returnElement} &amp;&amp; $options-&gt;{returnElement} == 1){</div>
<div class="line">        <span class="keywordflow">if</span> (scalar keys %uniqueElements == 1){</div>
<div class="line">            my $element = (keys %uniqueElements)[0];</div>
<div class="line">            <span class="keywordflow">return</span> $element;</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            <span class="keywordflow">return</span> 0;</div>
<div class="line">        }</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="keywordflow">return</span> scalar keys %uniqueElements == 1;</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
 
</div>
</div>
<a id="af0a4ce2a82af034c533c8367e74659e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0a4ce2a82af034c533c8367e74659e2">&#9670;&nbsp;</a></span>lcm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Chemical::Chemical::lcm </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method </p>
<div id='codesection-lcm' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-lcm-trigger' src='closed.png' alt='open/close icon' style='display:inline'/> <b>Code:</b>
</div>
<div id='codesection-lcm-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-lcm-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in lcm: 9</span></div>
<div class="line">sub <a class="code" href="classChemical_1_1Chemical.html#af0a4ce2a82af034c533c8367e74659e2">lcm</a> {</div>
<div class="line">    my $a = shift;</div>
<div class="line">    my $b = shift;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> ($a == 0 || $b == 0){</div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> ($a * $b) / <a class="code" href="classChemical_1_1Chemical.html#aa7d8cddfa2180c625e03b776ea9301ca">gcd</a>($a,$b);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
 
</div>
</div>
<a id="ab0e51e646092435c11ebb11d9b3f29b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0e51e646092435c11ebb11d9b3f29b6">&#9670;&nbsp;</a></span>meltingPoint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Chemical::Chemical::meltingPoint </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method </p>
<div id='codesection-meltingPoint' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-meltingPoint-trigger' src='closed.png' alt='open/close icon' style='display:inline'/> <b>Code:</b>
</div>
<div id='codesection-meltingPoint-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-meltingPoint-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in meltingPoint: 10</span></div>
<div class="line">sub <a class="code" href="classChemical_1_1Chemical.html#ab0e51e646092435c11ebb11d9b3f29b6">meltingPoint</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $elementNum = $self-&gt;isElement({returnElement=&gt;1});</div>
<div class="line">    <span class="keywordflow">if</span> (defined $elementNum){</div>
<div class="line">        my $mp = $meltingPoints[$elementNum-1];</div>
<div class="line">        <span class="keywordflow">return</span> $mp;</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
 
</div>
</div>
<a id="a3eada73cd865e4c7058ab91787292a77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3eada73cd865e4c7058ab91787292a77">&#9670;&nbsp;</a></span>molarMass()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Chemical::Chemical::molarMass </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method </p>
<div id='codesection-molarMass' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-molarMass-trigger' src='closed.png' alt='open/close icon' style='display:inline'/> <b>Code:</b>
</div>
<div id='codesection-molarMass-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-molarMass-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in molarMass: 20</span></div>
<div class="line">sub <a class="code" href="classChemical_1_1Chemical.html#a3eada73cd865e4c7058ab91787292a77">molarMass</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="classInexactValue_1_1InexactValue.html">InexactValue::InexactValue</a>-&gt;can(<span class="stringliteral">&#39;new&#39;</span>)){</div>
<div class="line">        my $mass = <a class="code" href="classInexactValue_1_1InexactValue.html">InexactValue::InexactValue</a>-&gt;<a class="code" href="classInexactValue_1_1InexactValue.html#abe7f125b988b41430a51ae58d8821aa7">new</a>(0,Inf);</div>
<div class="line">        <span class="keywordflow">foreach</span> my $component (@{$self-&gt;{data}}) {</div>
<div class="line"><span class="preprocessor">            # remember atomicMasses is zero-index but atomNum is actual</span></div>
<div class="line">            $mass += (<a class="code" href="classInexactValue_1_1InexactValue.html">InexactValue::InexactValue</a>-&gt;<a class="code" href="classInexactValue_1_1InexactValue.html#abe7f125b988b41430a51ae58d8821aa7">new</a>(@atomicMasses[$component-&gt;{atomNum}-1]) * $component-&gt;{count});</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">return</span> $mass;</div>
<div class="line">        </div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        my $mass = 0;</div>
<div class="line">        <span class="keywordflow">foreach</span> my $component (@{$self-&gt;{data}}) {</div>
<div class="line"><span class="preprocessor">            # remember atomicMasses is zero-index but atomNum is actual</span></div>
<div class="line">            $mass += (@atomicMasses[$component-&gt;{atomNum}-1] * $component-&gt;{count});</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">return</span> $mass;</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
 
</div>
</div>
<a id="a84f78c92b5c18748b24cc5e07b5133bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84f78c92b5c18748b24cc5e07b5133bb">&#9670;&nbsp;</a></span>name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Chemical::Chemical::name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method </p>
<div id='codesection-name' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-name-trigger' src='closed.png' alt='open/close icon' style='display:inline'/> <b>Code:</b>
</div>
<div id='codesection-name-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-name-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in name: 1</span></div>
<div class="line"><span class="preprocessor">sub name {&#39;chemical&#39;};</span></div>
</div><!-- fragment -->
</div>
 
</div>
</div>
<a id="abc41427f4dd05b472da35a89c97dcc4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc41427f4dd05b472da35a89c97dcc4c">&#9670;&nbsp;</a></span>new()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Chemical::Chemical::new </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method </p>
<div id='codesection-new' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-new-trigger' src='closed.png' alt='open/close icon' style='display:inline'/> <b>Code:</b>
</div>
<div id='codesection-new-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-new-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in new: 63</span></div>
<div class="line">sub <span class="keyword">new</span> {</div>
<div class="line"><span class="preprocessor">    #warn &quot;new&quot;;</span></div>
<div class="line">    my $self = shift; my $class = ref($self) || $self;</div>
<div class="line">    my $context = (Value::isContext($_[0]) ? shift : $self-&gt;context);</div>
<div class="line">    my $x = shift; $x = [$x,@_] <span class="keywordflow">if</span> scalar(@_) &gt; 0; </div>
<div class="line"> </div>
<div class="line">    my $options = shift;</div>
<div class="line"> </div>
<div class="line">    $x = [$x] unless ref($x) eq <span class="stringliteral">&#39;ARRAY&#39;</span>;</div>
<div class="line">    my $argCount = @$x;</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">    # unless ($argCount &gt; 2){</span></div>
<div class="line"><span class="preprocessor">    #     die &quot;Only one or two arguments.&quot;;</span></div>
<div class="line"><span class="preprocessor">    # }</span></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    my $requireFormula=0;</div>
<div class="line">    my $requireName=0;</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">    # a problem may require an answer as a formula or a name</span></div>
<div class="line">    <span class="keywordflow">if</span> (defined($self-&gt;context-&gt;flags-&gt;get(<span class="stringliteral">&#39;requireFormula&#39;</span>))){</div>
<div class="line">        $requireFormula = $self-&gt;context-&gt;flags-&gt;get(<span class="stringliteral">&#39;requireFormula&#39;</span>);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (exists $options-&gt;{requireFormula}) {</div>
<div class="line">        $requireFormula = $options-&gt;{requireFormula};</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (defined($self-&gt;context-&gt;flags-&gt;get(<span class="stringliteral">&#39;requireName&#39;</span>))){</div>
<div class="line">        $requireName = $self-&gt;context-&gt;flags-&gt;get(<span class="stringliteral">&#39;requireName&#39;</span>);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (exists $options-&gt;{requireName}) {</div>
<div class="line">        $requireName = $options-&gt;{requireName};</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> ($requireFormula &amp;&amp; $requireName){</div>
<div class="line">        die <span class="stringliteral">&quot;You can&#39;t set both formula and name as required.&quot;</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    my $outputType = $requireName ? 1 : ($requireFormula ? 2 : 0);</div>
<div class="line">    </div>
<div class="line">    my $result = <a class="code" href="classChemical_1_1Chemical.html#a9b1f8253632a9b700455a0fced4d7ead">parseValue</a>($x-&gt;[0]);</div>
<div class="line">    $chemical = $result-&gt;{chemical};</div>
<div class="line"> </div>
<div class="line">    </div>
<div class="line"><span class="preprocessor">    # foreach $t (@$chemical){</span></div>
<div class="line"><span class="preprocessor">    #   warn %$t;</span></div>
<div class="line"><span class="preprocessor">    # }</span></div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">if</span> (defined $result-&gt;{leading}){</div>
<div class="line">        $leading = $result-&gt;{leading}; # <span class="keywordflow">for</span> units where mol precedes the chemical and we want to <span class="keywordflow">return</span> it.</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        $leading = undef;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">if</span> (defined $result-&gt;{commonName}){</div>
<div class="line">        $commonName = $result-&gt;{commonName}; # <span class="keywordflow">for</span> units where mol precedes the chemical and we want to <span class="keywordflow">return</span> it.</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        $commonName = undef;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    bless {data =&gt; $chemical, bonding =&gt; $result-&gt;{bonding}, leading =&gt; $leading, nameInputed =&gt; $result-&gt;{nameInputed}, commonName=&gt;$commonName, outputType=&gt; $outputType , context =&gt; $context}, $class;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
 
</div>
</div>
<a id="a9b1f8253632a9b700455a0fced4d7ead"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b1f8253632a9b700455a0fced4d7ead">&#9670;&nbsp;</a></span>parseValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Chemical::Chemical::parseValue </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method </p>
<div id='codesection-parseValue' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-parseValue-trigger' src='closed.png' alt='open/close icon' style='display:inline'/> <b>Code:</b>
</div>
<div id='codesection-parseValue-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-parseValue-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in parseValue: 425</span></div>
<div class="line">sub <a class="code" href="classChemical_1_1Chemical.html#a9b1f8253632a9b700455a0fced4d7ead">parseValue</a> {</div>
<div class="line">  </div>
<div class="line">    my $x = shift;</div>
<div class="line">    </div>
<div class="line"><span class="preprocessor">    #warn &#39;/&#39; . $x . &#39;/&#39;;</span></div>
<div class="line">    <span class="keywordflow">if</span> (! defined $x || $x eq <span class="stringliteral">&#39;&#39;</span> || $x =~ /^\s*$/) {</div>
<div class="line">        <span class="keywordflow">return</span> {chemical=&gt;[], nameInputed=&gt;0, bonding=&gt;0};</div>
<div class="line">    }</div>
<div class="line"><span class="preprocessor">    #no warnings &quot;numeric&quot;;</span></div>
<div class="line">    my @result;</div>
<div class="line">    $result[1] = 0;</div>
<div class="line">    </div>
<div class="line">    my $nameInputed=0;</div>
<div class="line"> </div>
<div class="line">    my $compare = sub { </div>
<div class="line">       <span class="keywordflow">return</span> length($_[1]) &lt; length($_[0]) <span class="keywordflow">if</span> length($_[0]) != length($_[1]); </div>
<div class="line">       my $cmp = $_[0] <a class="code" href="classChemical_1_1Chemical.html#adebfb94bc6aea69da3e502345fa7cd25">cmp</a> $_[1];</div>
<div class="line">       <span class="keywordflow">if</span> ($cmp == 1) {</div>
<div class="line">           <span class="keywordflow">return</span> 0;</div>
<div class="line">       } <span class="keywordflow">else</span> {</div>
<div class="line">           <span class="keywordflow">return</span> 1;</div>
<div class="line">       }</div>
<div class="line">    };</div>
<div class="line"> </div>
<div class="line">    my @symbols = (@elements, keys %polyatomicFormulaVariations);</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">    #foreach my $t (keys %additionalVariants){</span></div>
<div class="line">    $symbolsResult = join(<span class="charliteral">&#39;|&#39;</span>, main::PGsort( $compare, @symbols));</div>
<div class="line"> </div>
<div class="line">    my @names = keys %namedRecognitionTargets;</div>
<div class="line">    my $namesResult = join(<span class="charliteral">&#39;|&#39;</span>, main::PGsort( $compare, @names));</div>
<div class="line"><span class="preprocessor">    #warn $symbolsResult;</span></div>
<div class="line">    my @chemical;</div>
<div class="line">    my $leadingUnknown = undef;</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">    # 0=unknown, 1=ionic, 2=covalent (used for the purpose of writing formulas and names)</span></div>
<div class="line">    my $bonding=0;</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">    # We&#39;ll use this to break out of all parsing and just replace the name with the prestored chemical.</span></div>
<div class="line">    my $commonName=0;</div>
<div class="line">    </div>
<div class="line"><span class="preprocessor">    # these are possible words that appear after a chemical.  In a capture group because it is necessary</span></div>
<div class="line"><span class="preprocessor">    # for certain ions.  i.e. potassium ion (K^+) vs potassium (K).  For others, it&#39;s optional but there just in case.</span></div>
<div class="line">    my $trailingWords = <span class="stringliteral">&#39;ions|ion|atoms|atom|molecules|molecule|formula units|fu|f\.u\.&#39;</span>;</div>
<div class="line"><span class="preprocessor">    # 1. Check if contains names. Case will not matter.</span></div>
<div class="line"><span class="preprocessor">    # 2. If no names, then case DOES matter and check element symbols</span></div>
<div class="line"><span class="preprocessor">    # warn &quot;processing $x&quot;;</span></div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">while</span>($x =~ /(.*?)(mono|mon|di|tri|tetra|tetr|penta|pent|hexa|hex|hepta|hept|octa|oct|nona|non|deca|dec)?($namesResult)(?:\s*)(?:\()?(\b(?:VIII|III|VII|II|IV|IX|VI|I|V|X)\b)?(?:\))?(?:\s*)($trailingWords)?/gi) {  # <span class="keywordflow">case</span> insensitive</div>
<div class="line">        my $chemicalPiece = {};</div>
<div class="line">        <span class="keywordflow">if</span> ($1){</div>
<div class="line">            $leadingUnknown = $1;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">if</span> ($2){</div>
<div class="line">            my $lower = lc($2);</div>
<div class="line">            <span class="keywordflow">if</span> ($lower eq <span class="stringliteral">&quot;mono&quot;</span> || $lower eq <span class="stringliteral">&quot;mon&quot;</span>){</div>
<div class="line">                $chemicalPiece-&gt;{<span class="stringliteral">&#39;prefix&#39;</span>} = 1;</div>
<div class="line">            } elsif ($lower eq <span class="stringliteral">&quot;di&quot;</span>){</div>
<div class="line">                $chemicalPiece-&gt;{<span class="stringliteral">&#39;prefix&#39;</span>} = 2;</div>
<div class="line">            } elsif ($lower eq <span class="stringliteral">&quot;tri&quot;</span>){</div>
<div class="line">                $chemicalPiece-&gt;{<span class="stringliteral">&#39;prefix&#39;</span>} = 3;</div>
<div class="line">            } elsif ($lower eq <span class="stringliteral">&quot;tetra&quot;</span> || $lower eq <span class="stringliteral">&quot;tetr&quot;</span>){</div>
<div class="line">                $chemicalPiece-&gt;{<span class="stringliteral">&#39;prefix&#39;</span>} = 4;</div>
<div class="line">            } elsif ($lower eq <span class="stringliteral">&quot;penta&quot;</span> || $lower eq <span class="stringliteral">&quot;pent&quot;</span>){</div>
<div class="line">                $chemicalPiece-&gt;{<span class="stringliteral">&#39;prefix&#39;</span>} = 5;</div>
<div class="line">            } elsif ($lower eq <span class="stringliteral">&quot;hexa&quot;</span> || $lower eq <span class="stringliteral">&quot;hex&quot;</span>){</div>
<div class="line">                $chemicalPiece-&gt;{<span class="stringliteral">&#39;prefix&#39;</span>} = 6;</div>
<div class="line">            } elsif ($lower eq <span class="stringliteral">&quot;hepta&quot;</span> || $lower eq <span class="stringliteral">&quot;hept&quot;</span>){</div>
<div class="line">                $chemicalPiece-&gt;{<span class="stringliteral">&#39;prefix&#39;</span>} = 7;</div>
<div class="line">            } elsif ($lower eq <span class="stringliteral">&quot;octa&quot;</span> || $lower eq <span class="stringliteral">&quot;oct&quot;</span>){</div>
<div class="line">                $chemicalPiece-&gt;{<span class="stringliteral">&#39;prefix&#39;</span>} = 8;</div>
<div class="line">            } elsif ($lower eq <span class="stringliteral">&quot;nona&quot;</span> || $lower eq <span class="stringliteral">&quot;non&quot;</span>){</div>
<div class="line">                $chemicalPiece-&gt;{<span class="stringliteral">&#39;prefix&#39;</span>} = 9;</div>
<div class="line">            } elsif ($lower eq <span class="stringliteral">&quot;deca&quot;</span> || $lower eq <span class="stringliteral">&quot;dec&quot;</span>){</div>
<div class="line">                $chemicalPiece-&gt;{<span class="stringliteral">&#39;prefix&#39;</span>} = 10;</div>
<div class="line">            }</div>
<div class="line">        } </div>
<div class="line">        <span class="keywordflow">if</span> ($3){</div>
<div class="line">            $chemicalPiece-&gt;{<a class="code" href="classChemical_1_1Chemical.html#a84f78c92b5c18748b24cc5e07b5133bb">name</a>} = $3;</div>
<div class="line">            $atomNum = $namedRecognitionTargets{$3}-&gt;{atomNum};</div>
<div class="line">            $chemicalPiece-&gt;{<span class="stringliteral">&#39;atomNum&#39;</span>} = $atomNum;</div>
<div class="line">            <span class="keywordflow">if</span> (!$2 &amp;&amp; exists $namedRecognitionTargets{$3}-&gt;{charge}){</div>
<div class="line">                $chemicalPiece-&gt;{charge} = $namedRecognitionTargets{$3}-&gt;{charge};</div>
<div class="line">                </div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">if</span> (exists $polyatomicIons{$3}){</div>
<div class="line">                $chemicalPiece-&gt;{polyAtomic} = $polyatomicIons{$3};</div>
<div class="line">            } </div>
<div class="line">            <span class="keywordflow">if</span> (exists $commonNames{$3}){</div>
<div class="line">                @chemical = @{$commonNames{$3}-&gt;{chemical}};</div>
<div class="line">                $commonName = $3;</div>
<div class="line">                last;</div>
<div class="line">            }</div>
<div class="line">            </div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">if</span> ($4){</div>
<div class="line">            </div>
<div class="line">            my $upper = uc($4);</div>
<div class="line">            <span class="keywordflow">if</span> ($upper eq <span class="stringliteral">&quot;I&quot;</span>){</div>
<div class="line">                $chemicalPiece-&gt;{<span class="stringliteral">&#39;charge&#39;</span>} = 1;</div>
<div class="line">            } elsif ($upper eq <span class="stringliteral">&quot;II&quot;</span>){</div>
<div class="line">                $chemicalPiece-&gt;{<span class="stringliteral">&#39;charge&#39;</span>} = 2;</div>
<div class="line">            } elsif ($upper eq <span class="stringliteral">&quot;III&quot;</span>){</div>
<div class="line">                $chemicalPiece-&gt;{<span class="stringliteral">&#39;charge&#39;</span>} = 3;</div>
<div class="line">            } elsif ($upper eq <span class="stringliteral">&quot;IV&quot;</span>){</div>
<div class="line">                $chemicalPiece-&gt;{<span class="stringliteral">&#39;charge&#39;</span>} = 4;</div>
<div class="line">            } elsif ($upper eq <span class="stringliteral">&quot;V&quot;</span>){</div>
<div class="line">                $chemicalPiece-&gt;{<span class="stringliteral">&#39;charge&#39;</span>} = 5;</div>
<div class="line">            } elsif ($upper eq <span class="stringliteral">&quot;VI&quot;</span>){</div>
<div class="line">                $chemicalPiece-&gt;{<span class="stringliteral">&#39;charge&#39;</span>} = 6;</div>
<div class="line">            } elsif ($upper eq <span class="stringliteral">&quot;VII&quot;</span>){</div>
<div class="line">                $chemicalPiece-&gt;{<span class="stringliteral">&#39;charge&#39;</span>} = 7;</div>
<div class="line">            } elsif ($upper eq <span class="stringliteral">&quot;VIII&quot;</span>){</div>
<div class="line">                $chemicalPiece-&gt;{<span class="stringliteral">&#39;charge&#39;</span>} = 8;</div>
<div class="line">            } elsif ($upper eq <span class="stringliteral">&quot;IX&quot;</span>){</div>
<div class="line">                $chemicalPiece-&gt;{<span class="stringliteral">&#39;charge&#39;</span>} = 9;</div>
<div class="line">            } elsif ($upper eq <span class="stringliteral">&quot;X&quot;</span>){</div>
<div class="line">                $chemicalPiece-&gt;{<span class="stringliteral">&#39;charge&#39;</span>} = 10;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">if</span> ($5) {</div>
<div class="line"><span class="preprocessor">            # trailing word present.  For now, we&#39;ll track the word ion and add a charge if one is not already present</span></div>
<div class="line">            <span class="keywordflow">if</span> ($5 =~ /ions|ion/){</div>
<div class="line">                unless (exists $chemicalPiece-&gt;{charge} </div>
<div class="line">                    || exists $standardIons{$chemicalPiece-&gt;{atomNum}} ){</div>
<div class="line">                    $chemicalPiece-&gt;{charge} = $standardIons{$chemicalPiece-&gt;{atomNum}};</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"><span class="preprocessor">        # in case we want to know if parentheses were omitted, we can add options here.</span></div>
<div class="line"> </div>
<div class="line">        push @chemical, $chemicalPiece;     </div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">if</span> (scalar @chemical == 0) {</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">        # formula units will always have no spaces, so first split the leading units (if any) from the formula</span></div>
<div class="line">        @arr = split <span class="charliteral">&#39; &#39;</span>, $x;</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">        #assume last piece is formula</span></div>
<div class="line">        $y = $arr[scalar @arr - 1];</div>
<div class="line"> </div>
<div class="line">        splice @arr, scalar @arr - 1, 1;</div>
<div class="line">        $leadingUnknown = join <span class="charliteral">&#39; &#39;</span>, @arr;</div>
<div class="line">        </div>
<div class="line">        <span class="keywordflow">while</span>($y =~ /(?:\(?)($symbolsResult)(?:\)?)(?:_?\{?)([\d]*)(?:\}?)(?:\^?\{?)([\d]*[+\-]?)(?:\}?)/g) {</div>
<div class="line">            my $chemicalPiece = {};</div>
<div class="line">            <span class="keywordflow">if</span> ($1){</div>
<div class="line">                <span class="keywordflow">if</span> (exists $polyatomicFormulaVariations{$1}){</div>
<div class="line">                    <span class="keywordflow">if</span> (exists $polyatomicIons{$polyatomicFormulaVariations{$1}}){</div>
<div class="line">                        my $name = $polyatomicFormulaVariations{$1};</div>
<div class="line">                        my $polyatomicIonsRef = \%polyatomicIons;</div>
<div class="line">                        my $polyatomic = $polyatomicIonsRef-&gt;{$name};</div>
<div class="line">                        $chemicalPiece-&gt;{atomNum} = $polyatomic-&gt;{atomNum};</div>
<div class="line">                        $chemicalPiece-&gt;{polyAtomicName} = $polyatomicFormulaVariations{$1};</div>
<div class="line">                        $chemicalPiece-&gt;{polyAtomic} = $polyatomic;</div>
<div class="line"><span class="preprocessor">                        #warn %$chemicalPiece;</span></div>
<div class="line">                    }</div>
<div class="line">                } <span class="keywordflow">else</span> {</div>
<div class="line">                    my ($index) = grep { $elements[$_] eq $1 } 0 .. (@elements-1);</div>
<div class="line">                    $chemicalPiece-&gt;{atomNum} = $index+1;</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">if</span> ($2){</div>
<div class="line">                $chemicalPiece-&gt;{count} = <a class="code" href="classChemical_1_1Chemical.html#a8e9147000f312b6550bdf262fd52605b">subscriptReverse</a>($2);</div>
<div class="line">            } <span class="keywordflow">else</span> {</div>
<div class="line">                $chemicalPiece-&gt;{count} = 1;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">if</span> ($3) {</div>
<div class="line">                my $sign = 1;</div>
<div class="line">                my $value = 1;  #<span class="keywordflow">if</span> charge exists, <span class="keywordflow">default</span> charge 1</div>
<div class="line">                my $temp = <a class="code" href="classChemical_1_1Chemical.html#aaff46089885b4de52ad5fb579c784867">superscriptReverse</a>($3);</div>
<div class="line">                <span class="keywordflow">if</span> (index($temp, <span class="charliteral">&#39;+&#39;</span>) != -1) {  # <span class="keywordflow">if</span> contains a + sign, then $sign is 1</div>
<div class="line">                    $sign = 1;</div>
<div class="line">                } elsif (index($temp, <span class="charliteral">&#39;-&#39;</span>) != -1) {  #<span class="keywordflow">if</span> contains a - sign, then $sign is -1</div>
<div class="line">                    $sign = -1;</div>
<div class="line">                } </div>
<div class="line">                ($val) =$temp =~ /(\d)/;</div>
<div class="line">                <span class="keywordflow">if</span> (defined $val){</div>
<div class="line">                    $value = $val;</div>
<div class="line">                }</div>
<div class="line">                $chemicalPiece-&gt;{charge} = $sign*$value;</div>
<div class="line">            }</div>
<div class="line">            push @chemical, $chemicalPiece;</div>
<div class="line">        }</div>
<div class="line">        </div>
<div class="line"><span class="preprocessor">        # note: overall charge will be assigned to 2nd component.  There&#39;s no mechanism to define charge of overall chemical yet.</span></div>
<div class="line"><span class="preprocessor">        # now let&#39;s determine if we have an ionic compound so that we can assign charges , only necessary if binary</span></div>
<div class="line">        <span class="keywordflow">if</span> (scalar @chemical == 4){</div>
<div class="line"><span class="preprocessor">            #warn &quot;WOW we can&#39;t do this one.&quot;;</span></div>
<div class="line"><span class="preprocessor">            #warn $x;</span></div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (scalar @chemical == 2){</div>
<div class="line">            my $comp1 = $chemical[0];</div>
<div class="line">            my $comp2 = $chemical[1];</div>
<div class="line">            my $comp1Cat = $elementProperties{$comp1-&gt;{atomNum}}-&gt;{cat};</div>
<div class="line">            my $comp2Cat = $elementProperties{$comp2-&gt;{atomNum}}-&gt;{cat};</div>
<div class="line">            unless (defined $comp1Cat){</div>
<div class="line">                <span class="keywordflow">if</span> (exists $comp1-&gt;{polyAtomic}){</div>
<div class="line">                    <span class="keywordflow">if</span> ($comp1-&gt;{polyAtomic}-&gt;{charge} &gt; 0){</div>
<div class="line">                        $comp1Cat = 2;</div>
<div class="line">                    } <span class="keywordflow">else</span> {</div>
<div class="line">                        $comp1Cat = 0; #non-metal</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">            unless (defined $comp2Cat){</div>
<div class="line">                <span class="keywordflow">if</span> (exists $comp2-&gt;{polyAtomic}){</div>
<div class="line">                    <span class="keywordflow">if</span> ($comp2-&gt;{polyAtomic}-&gt;{charge} &gt; 0){</div>
<div class="line">                        $comp2Cat = 2;</div>
<div class="line">                    } <span class="keywordflow">else</span> {</div>
<div class="line">                        $comp2Cat = 0; #non-metal</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">            </div>
<div class="line">            <span class="keywordflow">if</span> (($comp1Cat == 0 &amp;&amp; $comp2Cat == 2) || ($comp1Cat == 2 &amp;&amp; $comp2Cat == 0)){</div>
<div class="line"><span class="preprocessor">                # ionic</span></div>
<div class="line">                $bonding = 1;</div>
<div class="line">                my $chargesDetermined=0;</div>
<div class="line">                my $charge1;</div>
<div class="line">                my $charge2;</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">                # need to lookup standard charges, but have to also make sure that ratios support them.</span></div>
<div class="line"><span class="preprocessor">                # 1.  find standard charges</span></div>
<div class="line"><span class="preprocessor">                # 2.  compare ratios with charges and see if they total zero</span></div>
<div class="line"><span class="preprocessor">                # 3.  adjust metal charge if type II to match ratio</span></div>
<div class="line"><span class="preprocessor">                # 4.  adjust non-metal otherwise.  i.e. oxygen might be peroxide. </span></div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">if</span> (exists $standardIons{$comp1-&gt;{atomNum}}) {</div>
<div class="line">                    $charge1 = $standardIons{$comp1-&gt;{atomNum}};</div>
<div class="line">                } </div>
<div class="line">                <span class="keywordflow">if</span> ( ! defined $charge1 &amp;&amp; exists $comp1-&gt;{polyAtomic}){</div>
<div class="line"><span class="preprocessor">                    #try polyatomic</span></div>
<div class="line">                    $charge1 = $comp1-&gt;{polyAtomic}-&gt;{charge};</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">if</span> (exists $standardIons{$comp2-&gt;{atomNum}}) {</div>
<div class="line">                    $charge2 = $standardIons{$comp2-&gt;{atomNum}};</div>
<div class="line">                } </div>
<div class="line">                <span class="keywordflow">if</span> (! defined $charge2 &amp;&amp; exists $comp2-&gt;{polyAtomic}){</div>
<div class="line"><span class="preprocessor">                    #try polyatomic</span></div>
<div class="line">                    $charge2 = $comp2-&gt;{polyAtomic}-&gt;{charge};</div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">                # if metal is Type II</span></div>
<div class="line">                <span class="keywordflow">if</span> (!$chargesDetermined &amp;&amp; !$charge1){</div>
<div class="line">                    $charge1 = abs($comp2-&gt;{count} * $charge2 / $comp1-&gt;{count});</div>
<div class="line">                    $comp1-&gt;{charge} = $charge1;</div>
<div class="line">                    $chargesDetermined = 1;</div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">if</span> ($charge1 &amp;&amp; $charge2){ </div>
<div class="line">                    <span class="keywordflow">if</span> ($comp1-&gt;{count} * $charge1 + $comp2-&gt;{count} * $charge2 == 0){</div>
<div class="line">                        $chargesDetermined=1;</div>
<div class="line">                        $comp1-&gt;{charge} = $charge1;</div>
<div class="line">                        $comp2-&gt;{charge} = $charge2;</div>
<div class="line">                    }</div>
<div class="line">                    <span class="keywordflow">else</span></div>
<div class="line">                    {</div>
<div class="line"><span class="preprocessor">                        # charges + count don&#39;t add up to a neutral molecule</span></div>
<div class="line"><span class="preprocessor">                        # check for unique polyatomics like peroxide.... need a list.</span></div>
<div class="line"><span class="preprocessor">                        # peroxide check</span></div>
<div class="line">                        <span class="keywordflow">if</span> ($comp2-&gt;{atomNum} == 8 &amp;&amp; $comp2-&gt;{count} == 2) {</div>
<div class="line">                            my $peroxide = $polyatomicIons{<span class="stringliteral">&#39;peroxide&#39;</span>};</div>
<div class="line">                            <span class="keywordflow">if</span> ($comp1-&gt;{count} * $charge1 + 1 * $peroxide-&gt;{charge} == 0){</div>
<div class="line">                                $chargesDetermined=1;</div>
<div class="line">                                $comp1-&gt;{charge} = $charge1;</div>
<div class="line">                                $comp2-&gt;{atomNum} = $peroxide-&gt;{atomNum};</div>
<div class="line">                                $comp2-&gt;{charge}= $peroxide-&gt;{charge};</div>
<div class="line">                                $comp2-&gt;{count} = 1;</div>
<div class="line">                            }</div>
<div class="line">                        }</div>
<div class="line"><span class="preprocessor">                        #warn &quot;peroxide maybe?&quot;;</span></div>
<div class="line">                    }</div>
<div class="line">                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="preprocessor">                    #warn &quot;STILL NO CHARGES&quot;;</span></div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">                # $lcmultiple = lcm($charge1,$charge2);</span></div>
<div class="line"><span class="preprocessor">                # $comp1-&gt;{count}= abs($lcmultiple/$charge1);</span></div>
<div class="line"><span class="preprocessor">                # $comp2-&gt;{count} = abs($lcmultiple/$charge2);</span></div>
<div class="line">            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="preprocessor">                #covalent! (not ionic)</span></div>
<div class="line">                $bonding=2;</div>
<div class="line">            }</div>
<div class="line">        } elsif (scalar @chemical == 1) {  # from formula</div>
<div class="line"><span class="preprocessor">            # Need some disambiguation here.  NO_2 will identify as nitrite immediately.  But it could be nitrogen dioxide (neutral)</span></div>
<div class="line"><span class="preprocessor">            # The {similar} key on {polyatomic} will list the neutral version of the polyatomic ion formula.    </span></div>
<div class="line">            </div>
<div class="line">            <span class="keywordflow">if</span> (exists $chemical[0]-&gt;{polyAtomic}){</div>
<div class="line">                unless (defined $chemical[0]-&gt;{charge}){</div>
<div class="line">                    <span class="keywordflow">if</span> (exists $chemical[0]-&gt;{polyAtomic}-&gt;{alternate}){</div>
<div class="line"><span class="preprocessor">                        #warn &quot;found&quot;;</span></div>
<div class="line">                        $newChemical = $chemical[0]-&gt;{polyAtomic}-&gt;{alternate};</div>
<div class="line">                        @chemical = @$newChemical;</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        $nameInputed = 1;</div>
<div class="line"><span class="preprocessor">        # Our chemical comes from names.  Let&#39;s try to figure out the numbers of each atom.</span></div>
<div class="line"><span class="preprocessor">        # We will only handle 1 or 2 chemical components (binary max)</span></div>
<div class="line">        </div>
<div class="line"><span class="preprocessor">        # return immediately if this is from a common name</span></div>
<div class="line">        unless ($commonName) {</div>
<div class="line">            <span class="keywordflow">if</span> (scalar @chemical == 1) {</div>
<div class="line">                $piece = $chemical[0];</div>
<div class="line"><span class="preprocessor">                # is it an ion or elemental?</span></div>
<div class="line">                <span class="keywordflow">if</span> (!defined $piece-&gt;{charge}){</div>
<div class="line">                    <span class="keywordflow">if</span> (exists $multiAtomElements{$piece-&gt;{atomNum}}){</div>
<div class="line">                        $piece-&gt;{count} = $multiAtomElements{$piece-&gt;{atomNum}};</div>
<div class="line">                    } <span class="keywordflow">else</span> {</div>
<div class="line">                        $piece-&gt;{count} = 1;</div>
<div class="line">                    }</div>
<div class="line">                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="preprocessor">                    # it&#39;s got a charge, so default count 1.  This will work with Hg2 2+ because that&#39;s counted as a polyatomic</span></div>
<div class="line">                    $piece-&gt;{count} = 1;</div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line">            } elsif (scalar @chemical == 2) {</div>
<div class="line"><span class="preprocessor">                # binary compound... is it covalent or ionic? while we could check for charges or prefixes, remember that students could be putting in VERY wrong answers,</span></div>
<div class="line"><span class="preprocessor">                # so we need to go back to basics and just see if it&#39;s a metal/non-metal combination for ionic or other for covalent.  This is not going to work for identifying the </span></div>
<div class="line"><span class="preprocessor">                # type of compound (semiconductors and stuff on the borders), but it will work for names to formulas.</span></div>
<div class="line">                my $comp1 = $chemical[0];</div>
<div class="line">                my $comp2 = $chemical[1];</div>
<div class="line">                my $comp1Cat = $elementProperties{$comp1-&gt;{atomNum}}-&gt;{cat};</div>
<div class="line">                my $comp2Cat = $elementProperties{$comp2-&gt;{atomNum}}-&gt;{cat};</div>
<div class="line">                unless (defined $comp1Cat){</div>
<div class="line">                    <span class="keywordflow">if</span> (exists $comp1-&gt;{charge}){</div>
<div class="line">                        <span class="keywordflow">if</span> ($comp1-&gt;{charge} &gt; 0){</div>
<div class="line">                            $comp1Cat = 2;</div>
<div class="line">                        } <span class="keywordflow">else</span> {</div>
<div class="line">                            $comp1Cat = 0; #non-metal</div>
<div class="line">                        }</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line">                unless (defined $comp2Cat){</div>
<div class="line">                    <span class="keywordflow">if</span> (exists $comp2-&gt;{charge}){</div>
<div class="line">                        <span class="keywordflow">if</span> ($comp2-&gt;{charge} &gt; 0){</div>
<div class="line">                            $comp2Cat = 2;</div>
<div class="line">                        } <span class="keywordflow">else</span> {</div>
<div class="line">                            $comp2Cat = 0; #non-metal</div>
<div class="line">                        }</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line">                </div>
<div class="line">                <span class="keywordflow">if</span> (($comp1Cat == 0 &amp;&amp; $comp2Cat == 2) || ($comp1Cat == 2 &amp;&amp; $comp2Cat == 0)){</div>
<div class="line"><span class="preprocessor">                    # ionic</span></div>
<div class="line">                    $bonding = 1;</div>
<div class="line"><span class="preprocessor">                    #warn &#39;ionic! &#39; . $comp1-&gt;{atomNum} . &#39;  &#39; . $comp2-&gt;{atomNum} ;</span></div>
<div class="line">                    my $charge1;</div>
<div class="line">                    my $charge2;</div>
<div class="line"> </div>
<div class="line">                    <span class="keywordflow">if</span> (exists $comp1-&gt;{charge}) {</div>
<div class="line"><span class="preprocessor">                        # type II metal (got charge from roman numeral)</span></div>
<div class="line">                        $charge1 = $comp1-&gt;{charge};</div>
<div class="line">                    } elsif (exists $standardIons{$comp1-&gt;{atomNum}}) {</div>
<div class="line"><span class="preprocessor">                        # type I metal</span></div>
<div class="line">                        </div>
<div class="line">                        $charge1 = $standardIons{$comp1-&gt;{atomNum}};</div>
<div class="line">                        $comp1-&gt;{charge} = $charge1;</div>
<div class="line">                    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="preprocessor">                        # shouldn&#39;t really be here.</span></div>
<div class="line"><span class="preprocessor">                        #warn &quot;There was no way to determine the charge of the metal. Was the roman numeral missing?&quot;;</span></div>
<div class="line">                    }</div>
<div class="line">                    <span class="keywordflow">if</span> (exists $comp2-&gt;{charge}) {</div>
<div class="line">                        $charge2 = $comp2-&gt;{charge};</div>
<div class="line">                    } elsif (exists $standardIons{$comp2-&gt;{atomNum}}) {</div>
<div class="line">                        $charge2 = $standardIons{$comp2-&gt;{atomNum}};</div>
<div class="line">                        $comp2-&gt;{charge} = $charge2;</div>
<div class="line">                    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="preprocessor">                        # shouldn&#39;t really be here.</span></div>
<div class="line"><span class="preprocessor">                        #warn &quot;There was no way to determine the charge of the nonmetal. Artificial non-metal maybe?&quot;;</span></div>
<div class="line">                    }</div>
<div class="line"> </div>
<div class="line">                    $lcmultiple = <a class="code" href="classChemical_1_1Chemical.html#af0a4ce2a82af034c533c8367e74659e2">lcm</a>($charge1,$charge2);</div>
<div class="line">                    <span class="keywordflow">if</span> ($charge1 &amp;&amp; $charge2){</div>
<div class="line">                        $comp1-&gt;{count}= abs($lcmultiple/$charge1);</div>
<div class="line">                        $comp2-&gt;{count} = abs($lcmultiple/$charge2);</div>
<div class="line">                    }</div>
<div class="line">                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="preprocessor">                    # assume covalent for rest</span></div>
<div class="line">                    </div>
<div class="line">                    $bonding = 2;</div>
<div class="line">                    <span class="keywordflow">if</span> (exists $comp1-&gt;{prefix}){</div>
<div class="line">                        $comp1-&gt;{count} = $comp1-&gt;{prefix};</div>
<div class="line">                    } <span class="keywordflow">else</span> {</div>
<div class="line">                        $comp1-&gt;{count} = 1;</div>
<div class="line">                    }</div>
<div class="line">                    <span class="keywordflow">if</span> (exists $comp2-&gt;{prefix}){</div>
<div class="line">                        $comp2-&gt;{count} = $comp2-&gt;{prefix};</div>
<div class="line">                    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="preprocessor">                        #warn &quot;This shouldn&#39;t happen. If it does, it is a student mistake and will create an unexpected molecule.&quot;;</span></div>
<div class="line">                        $comp2-&gt;{count} = 1;</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line">            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="preprocessor">                #warn &quot;Can&#39;t handle three component compounds.&quot;;</span></div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"><span class="preprocessor">    # add pauling electronegativities and valence to chemical array</span></div>
<div class="line">    <span class="keywordflow">foreach</span> (@chemical){</div>
<div class="line">        $_-&gt;{enPauling} = $paulingElectronegativities[$_-&gt;{atomNum} - 1];</div>
<div class="line">        $_-&gt;{valence} = $valenceStandardMap{$_-&gt;{atomNum}};</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    $result = {chemical=&gt;\@chemical, nameInputed=&gt;$nameInputed, bonding=&gt;$bonding};</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (defined $leadingUnknown){</div>
<div class="line">        $result-&gt;{leading} = $leadingUnknown;</div>
<div class="line"><span class="preprocessor">        #return {chemical=&gt;\@chemical, leading=&gt;$leadingUnknown, nameInputed=&gt;$nameInputed, bonding=&gt;$bonding};</span></div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> ($commonName){</div>
<div class="line">        $result-&gt;{commonName} = $commonName;</div>
<div class="line">    }   </div>
<div class="line"><span class="preprocessor">    #return {chemical=&gt;\@chemical, nameInputed=&gt;$nameInputed, bonding=&gt;$bonding};</span></div>
<div class="line">    <span class="keywordflow">return</span> $result;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
 
</div>
</div>
<a id="ac7d0fe3ed0cbcddf47a52ea3daa06b70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7d0fe3ed0cbcddf47a52ea3daa06b70">&#9670;&nbsp;</a></span>standardState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Chemical::Chemical::standardState </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method </p>
<div id='codesection-standardState' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-standardState-trigger' src='closed.png' alt='open/close icon' style='display:inline'/> <b>Code:</b>
</div>
<div id='codesection-standardState-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-standardState-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in standardState: 18</span></div>
<div class="line">sub <a class="code" href="classChemical_1_1Chemical.html#ac7d0fe3ed0cbcddf47a52ea3daa06b70">standardState</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $elementNum = $self-&gt;isElement({returnElement=&gt;1});</div>
<div class="line">    <span class="keywordflow">if</span> (defined $elementNum){</div>
<div class="line">        my $state = $stateOfMatter[$elementNum-1];</div>
<div class="line">        <span class="keywordflow">if</span> ($state == 0){</div>
<div class="line">            <span class="keywordflow">return</span> <span class="stringliteral">&quot;Solid&quot;</span>;</div>
<div class="line">        } elsif ($state == 1){</div>
<div class="line">            <span class="keywordflow">return</span> <span class="stringliteral">&quot;Liquid&quot;</span>;</div>
<div class="line">        } elsif ($state == 2){</div>
<div class="line">            <span class="keywordflow">return</span> <span class="stringliteral">&quot;Gas&quot;</span>;</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            <span class="keywordflow">return</span> <span class="stringliteral">&quot;Unknown&quot;</span>;</div>
<div class="line">        }</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Unknown&quot;</span>;</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
 
</div>
</div>
<a id="a11f7fbb21dfd696a43d2318c28396338"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11f7fbb21dfd696a43d2318c28396338">&#9670;&nbsp;</a></span>string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Chemical::Chemical::string </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method </p>
<div id='codesection-string' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-string-trigger' src='closed.png' alt='open/close icon' style='display:inline'/> <b>Code:</b>
</div>
<div id='codesection-string-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-string-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in string: 152</span></div>
<div class="line">sub <span class="keywordtype">string</span> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $options = shift;</div>
<div class="line">    my $text = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line">    my $overallCharge=0;</div>
<div class="line">    my $nameOutput = $self-&gt;{nameInputed};</div>
<div class="line">    <span class="keywordflow">if</span> (exists $options-&gt;{asFormula}){</div>
<div class="line">        $nameOutput = 0;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (exists $options-&gt;{asName}){</div>
<div class="line">        $nameOutput = 1;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> ($nameOutput == 1 &amp;&amp; defined $self-&gt;{commonName}){</div>
<div class="line">        <span class="keywordflow">return</span> $self-&gt;{commonName};</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    my $index=0;</div>
<div class="line">    <span class="keywordflow">foreach</span> my $component (@{$self-&gt;{data}}) {</div>
<div class="line">        <span class="keywordflow">if</span> ($nameOutput){</div>
<div class="line"><span class="preprocessor">            # write name!</span></div>
<div class="line">            my @allMatches = grep { <a class="code" href="classChemical_1_1Chemical.html#a7d6b01d6a4a49ea543f10ba8a8fdf794">compareAtomNums</a>($namedRecognitionTargets{$_}-&gt;{atomNum}, $component-&gt;{atomNum}) </div>
<div class="line">                &amp;&amp; ((exists $component-&gt;{charge}) </div>
<div class="line">                    ? ((exists $namedRecognitionTargets{$_}-&gt;{charge}) ? $namedRecognitionTargets{$_}-&gt;{charge} == $component-&gt;{charge} : 0 ) </div>
<div class="line">                    : ((exists $namedRecognitionTargets{$_}-&gt;{charge}) ? 0 : 1)) } </div>
<div class="line">                keys %namedRecognitionTargets;</div>
<div class="line">            <span class="keywordflow">if</span> (scalar @allMatches &gt; 0){</div>
<div class="line">                <span class="keywordflow">if</span> (scalar @allMatches &gt; 1){</div>
<div class="line"><span class="preprocessor">                    #warn &quot;There shouldn&#39;t be more than 1 match. &quot;;</span></div>
<div class="line">                }</div>
<div class="line">                $match = $allMatches[0];</div>
<div class="line">                <span class="keywordflow">if</span> ($text =~ /\S$/g){</div>
<div class="line">                    $text .= <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line">                my $elementName = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><span class="preprocessor">                # If covalent and 2nd component</span></div>
<div class="line"><span class="preprocessor">                # need to use the ide version of the nonmetal.  This algorithm only gets the element name since it has no charge.</span></div>
<div class="line">                <span class="keywordflow">if</span> ($self-&gt;{bonding} == 2 &amp;&amp; $index == 1){</div>
<div class="line">                    <span class="keywordflow">if</span> (exists($component-&gt;{<a class="code" href="classChemical_1_1Chemical.html#a84f78c92b5c18748b24cc5e07b5133bb">name</a>})){</div>
<div class="line">                        $elementName = $component-&gt;{<a class="code" href="classChemical_1_1Chemical.html#a84f78c92b5c18748b24cc5e07b5133bb">name</a>};</div>
<div class="line">                    }<span class="keywordflow">else</span> {</div>
<div class="line">                        my @allMatches = grep { <a class="code" href="classChemical_1_1Chemical.html#a7d6b01d6a4a49ea543f10ba8a8fdf794">compareAtomNums</a>($namedRecognitionTargets{$_}-&gt;{atomNum}, $component-&gt;{atomNum}) </div>
<div class="line">                            &amp;&amp;  exists $namedRecognitionTargets{$_}-&gt;{charge} } </div>
<div class="line">                            keys %namedRecognitionTargets;</div>
<div class="line">                        <span class="keywordflow">if</span> (scalar @allMatches &gt; 1){</div>
<div class="line"><span class="preprocessor">                            #warn &quot;There shouldn&#39;t be more than 1 match. &quot;;</span></div>
<div class="line">                        }</div>
<div class="line">                        $match = $allMatches[0];</div>
<div class="line">                        $elementName = $match;</div>
<div class="line">                    }</div>
<div class="line">                } <span class="keywordflow">else</span> {</div>
<div class="line">                    $elementName = $match;</div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">                #if covalent, use prefix</span></div>
<div class="line">                <span class="keywordflow">if</span> ($self-&gt;{bonding} == 2){</div>
<div class="line"><span class="preprocessor">                    # only use it if not 1 for 1st element</span></div>
<div class="line">                    <span class="keywordflow">if</span> (exists($component-&gt;{prefix})){</div>
<div class="line">                        my $prefix = $prefixesCovalent{$component-&gt;{prefix}};</div>
<div class="line"><span class="preprocessor">                        # check if ending of prefix and beginning of element are a letter combination where a vowel must be dropped</span></div>
<div class="line"><span class="preprocessor">                        # i.e. mono oxide =&gt; monoxide,  tetra oxide =&gt; tetroxide</span></div>
<div class="line"><span class="preprocessor">                        # this happens with mono, tetra, penta, hexa (this one is weird), septa, octa, nona, deca</span></div>
<div class="line"><span class="preprocessor">                        # only if element begins with &#39;o&#39;</span></div>
<div class="line">                        <span class="keywordflow">if</span> ($elementName =~ /^o/){</div>
<div class="line">                            $prefix =~ s/[ao]$<span class="comment">//g;</span></div>
<div class="line">                        }</div>
<div class="line">                        $text .= $prefix;</div>
<div class="line">                    } elsif ($index &gt; 0 || $component-&gt;{count} &gt; 1){</div>
<div class="line">                        my $prefix = $prefixesCovalent{$component-&gt;{count}};</div>
<div class="line"><span class="preprocessor">                        # check if ending of prefix and beginning of element are a letter combination where a vowel must be dropped</span></div>
<div class="line"><span class="preprocessor">                        # i.e. mono oxide =&gt; monoxide,  tetra oxide =&gt; tetroxide</span></div>
<div class="line"><span class="preprocessor">                        # this happens with mono, tetra, penta, hexa (this one is weird), septa, octa, nona, deca</span></div>
<div class="line"><span class="preprocessor">                        # only if element begins with &#39;o&#39;</span></div>
<div class="line">                        <span class="keywordflow">if</span> ($elementName =~ /^o/){</div>
<div class="line">                            $prefix =~ s/[ao]$<span class="comment">//g;</span></div>
<div class="line">                        }</div>
<div class="line">                        $text .= $prefix;</div>
<div class="line">                    }</div>
<div class="line">                } </div>
<div class="line"> </div>
<div class="line">                $text .= $elementName;</div>
<div class="line">                </div>
<div class="line">            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="preprocessor">                # no matches.  sodium in sodium chloride won&#39;t match because &quot;sodium&quot; has no charge as the default element,</span></div>
<div class="line"><span class="preprocessor">                # but the compound version does.  Need to relax charge restrictions</span></div>
<div class="line"><span class="preprocessor">                # Only metal ions here.</span></div>
<div class="line">                my @allMatches = grep { <a class="code" href="classChemical_1_1Chemical.html#a7d6b01d6a4a49ea543f10ba8a8fdf794">compareAtomNums</a>($namedRecognitionTargets{$_}-&gt;{atomNum}, $component-&gt;{atomNum}) } </div>
<div class="line">                keys %namedRecognitionTargets;</div>
<div class="line">                <span class="keywordflow">if</span> (scalar @allMatches &gt; 0){</div>
<div class="line">                    <span class="keywordflow">if</span> (scalar @allMatches &gt; 1){</div>
<div class="line"><span class="preprocessor">                        #warn &quot;There shouldn&#39;t be more than 1 match. &quot;;</span></div>
<div class="line">                    }</div>
<div class="line">                    $match = $allMatches[0];</div>
<div class="line">                    <span class="keywordflow">if</span> ($text =~ /\S$/g){</div>
<div class="line">                        $text .= <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line">                    }</div>
<div class="line">                    $text .= <span class="stringliteral">&quot;$match&quot;</span>;</div>
<div class="line">                }</div>
<div class="line"><span class="preprocessor">                # check if type II metal by checking if metal has common ion (type I).  If type II, add roman numeral charge</span></div>
<div class="line"><span class="preprocessor">                # we can ignore polyatomics (they have an array for atomic number)</span></div>
<div class="line">                <span class="keywordflow">if</span> (ref($component-&gt;{atomNum}) ne <span class="stringliteral">&#39;ARRAY&#39;</span>){</div>
<div class="line">                    <span class="keywordflow">if</span> (!exists $standardIons{$component-&gt;{atomNum}}){</div>
<div class="line"><span class="preprocessor">                        #warn $match . &#39; is type II&#39;;</span></div>
<div class="line">                        $text .= <span class="stringliteral">&#39; (&#39;</span> . $romanNumerals{$component-&gt;{charge}} . <span class="charliteral">&#39;)&#39;</span>;</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line">                $component-&gt;{atomNum}</div>
<div class="line">            }</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="preprocessor">            # write formula!</span></div>
<div class="line">            </div>
<div class="line">            <span class="keywordflow">if</span> (exists $component-&gt;{charge}) {</div>
<div class="line">                $overallCharge += $component-&gt;{charge} * $component-&gt;{count};</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">if</span> (ref($component-&gt;{atomNum}) eq <span class="stringliteral">&#39;ARRAY&#39;</span>){</div>
<div class="line"><span class="preprocessor">                # warn %$component;</span></div>
<div class="line"><span class="preprocessor">                # warn @{ $component-&gt;{atomNum} };</span></div>
<div class="line"><span class="preprocessor">                #warn @{ $component-&gt;{atomNum}};</span></div>
<div class="line">                $polyatomic = $component-&gt;{polyAtomic}-&gt;{<a class="code" href="classChemical_1_1Chemical.html#a4efb48a608d71bb892ad24fe68a22b54">TeX</a>};</div>
<div class="line">                $polyatomic =~ s/\^.*<span class="comment">//g; # removing these because it&#39;s in a compound.  We don&#39;t show charge.</span></div>
<div class="line">                $polyatomic =~ s/\_<span class="comment">//g;</span></div>
<div class="line">                $polyatomic = <a class="code" href="classChemical_1_1Chemical.html#ac25affca7347279037a59fc91655e81b">subscript</a>($polyatomic);</div>
<div class="line">                <span class="keywordflow">if</span> ($component-&gt;{count} &gt; 1){</div>
<div class="line"><span class="preprocessor">                    #warn &#39;more than 1  &#39; . $polyatomic;</span></div>
<div class="line">                    $text .= <span class="stringliteral">&quot;($polyatomic)&quot;</span>;</div>
<div class="line">                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="preprocessor">                    #warn &#39;only 1  &#39; . $polyatomic;</span></div>
<div class="line">                    $text .= $polyatomic;</div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line">            }<span class="keywordflow">else</span>{</div>
<div class="line">                $text .= @elements[$component-&gt;{atomNum}-1];</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">if</span> ($component-&gt;{count} &gt; 1) {</div>
<div class="line">                $text .= <a class="code" href="classChemical_1_1Chemical.html#ac25affca7347279037a59fc91655e81b">subscript</a>($component-&gt;{count});</div>
<div class="line">            }</div>
<div class="line"><span class="preprocessor">            #warn $text;</span></div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        $index++;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> ($overallCharge != 0){</div>
<div class="line">        my $sign = $overallCharge &gt; 0 ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;&quot;</span>; #these are unicode <a class="code" href="classChemical_1_1Chemical.html#ac30d7484e73959118dbd3fe80e98a70d">superscript</a> + and -</div>
<div class="line">        my $value = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line">        <span class="keywordflow">if</span> (abs($overallCharge) != 1){</div>
<div class="line">            $value = abs($overallCharge);</div>
<div class="line">        }</div>
<div class="line">        $text .= <a class="code" href="classChemical_1_1Chemical.html#ac30d7484e73959118dbd3fe80e98a70d">superscript</a>(<span class="stringliteral">&quot;$value$sign&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> $text;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
 
</div>
</div>
<a id="ac25affca7347279037a59fc91655e81b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac25affca7347279037a59fc91655e81b">&#9670;&nbsp;</a></span>subscript()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Chemical::Chemical::subscript </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method </p>
<div id='codesection-subscript' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-subscript-trigger' src='closed.png' alt='open/close icon' style='display:inline'/> <b>Code:</b>
</div>
<div id='codesection-subscript-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-subscript-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in subscript: 14</span></div>
<div class="line">sub <a class="code" href="classChemical_1_1Chemical.html#ac25affca7347279037a59fc91655e81b">subscript</a>{</div>
<div class="line">    my $value = shift;</div>
<div class="line">    $value =~ s/1//g;</div>
<div class="line">    $value =~ s/2//g;</div>
<div class="line">    $value =~ s/3//g;</div>
<div class="line">    $value =~ s/4//g;</div>
<div class="line">    $value =~ s/5//g;</div>
<div class="line">    $value =~ s/6//g;</div>
<div class="line">    $value =~ s/7//g;</div>
<div class="line">    $value =~ s/8//g;</div>
<div class="line">    $value =~ s/9//g;</div>
<div class="line">    $value =~ s/0//g;</div>
<div class="line">    <span class="keywordflow">return</span> $value;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
 
</div>
</div>
<a id="a8e9147000f312b6550bdf262fd52605b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e9147000f312b6550bdf262fd52605b">&#9670;&nbsp;</a></span>subscriptReverse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Chemical::Chemical::subscriptReverse </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method </p>
<div id='codesection-subscriptReverse' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-subscriptReverse-trigger' src='closed.png' alt='open/close icon' style='display:inline'/> <b>Code:</b>
</div>
<div id='codesection-subscriptReverse-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-subscriptReverse-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in subscriptReverse: 14</span></div>
<div class="line">sub <a class="code" href="classChemical_1_1Chemical.html#a8e9147000f312b6550bdf262fd52605b">subscriptReverse</a>{</div>
<div class="line">    my $value = shift;</div>
<div class="line">    $value =~ s//1/g;</div>
<div class="line">    $value =~ s//2/g;</div>
<div class="line">    $value =~ s//3/g;</div>
<div class="line">    $value =~ s//4/g;</div>
<div class="line">    $value =~ s//5/g;</div>
<div class="line">    $value =~ s//6/g;</div>
<div class="line">    $value =~ s//7/g;</div>
<div class="line">    $value =~ s//8/g;</div>
<div class="line">    $value =~ s//9/g;</div>
<div class="line">    $value =~ s//0/g;</div>
<div class="line">    <span class="keywordflow">return</span> $value;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
 
</div>
</div>
<a id="ac30d7484e73959118dbd3fe80e98a70d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac30d7484e73959118dbd3fe80e98a70d">&#9670;&nbsp;</a></span>superscript()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Chemical::Chemical::superscript </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method </p>
<div id='codesection-superscript' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-superscript-trigger' src='closed.png' alt='open/close icon' style='display:inline'/> <b>Code:</b>
</div>
<div id='codesection-superscript-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-superscript-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in superscript: 16</span></div>
<div class="line">sub <a class="code" href="classChemical_1_1Chemical.html#ac30d7484e73959118dbd3fe80e98a70d">superscript</a>{</div>
<div class="line">    my $value = shift;  </div>
<div class="line">    $value =~ s/1//g;</div>
<div class="line">    $value =~ s/2//g;</div>
<div class="line">    $value =~ s/3//g;</div>
<div class="line">    $value =~ s/4//g;</div>
<div class="line">    $value =~ s/5//g;</div>
<div class="line">    $value =~ s/6//g;</div>
<div class="line">    $value =~ s/7//g;</div>
<div class="line">    $value =~ s/8//g;</div>
<div class="line">    $value =~ s/9//g;</div>
<div class="line">    $value =~ s/0//g;</div>
<div class="line">    $value =~ s/\+//g;</div>
<div class="line">    $value =~ s/\-//g;</div>
<div class="line">    <span class="keywordflow">return</span> $value;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
 
</div>
</div>
<a id="aaff46089885b4de52ad5fb579c784867"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaff46089885b4de52ad5fb579c784867">&#9670;&nbsp;</a></span>superscriptReverse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Chemical::Chemical::superscriptReverse </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method </p>
<div id='codesection-superscriptReverse' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-superscriptReverse-trigger' src='closed.png' alt='open/close icon' style='display:inline'/> <b>Code:</b>
</div>
<div id='codesection-superscriptReverse-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-superscriptReverse-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in superscriptReverse: 16</span></div>
<div class="line">sub <a class="code" href="classChemical_1_1Chemical.html#aaff46089885b4de52ad5fb579c784867">superscriptReverse</a>{</div>
<div class="line">    my $value = shift;</div>
<div class="line">    $value =~ s//1/g;</div>
<div class="line">    $value =~ s//2/g;</div>
<div class="line">    $value =~ s//3/g;</div>
<div class="line">    $value =~ s//4/g;</div>
<div class="line">    $value =~ s//5/g;</div>
<div class="line">    $value =~ s//6/g;</div>
<div class="line">    $value =~ s//7/g;</div>
<div class="line">    $value =~ s//8/g;</div>
<div class="line">    $value =~ s//9/g;</div>
<div class="line">    $value =~ s//0/g;</div>
<div class="line">    $value =~ s//+/g;</div>
<div class="line">    $value =~ s//-/g;</div>
<div class="line">    <span class="keywordflow">return</span> $value;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
 
</div>
</div>
<a id="a4efb48a608d71bb892ad24fe68a22b54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4efb48a608d71bb892ad24fe68a22b54">&#9670;&nbsp;</a></span>TeX()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Chemical::Chemical::TeX </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method </p>
<div id='codesection-TeX' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-TeX-trigger' src='closed.png' alt='open/close icon' style='display:inline'/> <b>Code:</b>
</div>
<div id='codesection-TeX-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-TeX-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in TeX: 150</span></div>
<div class="line">sub <a class="code" href="classChemical_1_1Chemical.html#a4efb48a608d71bb892ad24fe68a22b54">TeX</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $options = shift;</div>
<div class="line">    my $text = <span class="stringliteral">&#39;\\mathrm{&#39;</span>;</div>
<div class="line">    my $overallCharge=0;</div>
<div class="line">    my $nameOutput = $self-&gt;{nameInputed};</div>
<div class="line">    <span class="keywordflow">if</span> (exists $options-&gt;{asFormula}){</div>
<div class="line">        $nameOutput = 0;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (exists $options-&gt;{asName}){</div>
<div class="line">        $nameOutput = 1;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> ($nameOutput == 1 &amp;&amp; defined $self-&gt;{commonName}){</div>
<div class="line">        <span class="keywordflow">return</span> <span class="stringliteral">&#39;\\mathrm{&#39;</span> . $self-&gt;{commonName} . <span class="charliteral">&#39;}&#39;</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    my $index=0;</div>
<div class="line">    <span class="keywordflow">foreach</span> my $component (@{$self-&gt;{data}}) {</div>
<div class="line">        <span class="keywordflow">if</span> ($nameOutput){</div>
<div class="line"><span class="preprocessor">            # write name!</span></div>
<div class="line">            my @allMatches = grep { <a class="code" href="classChemical_1_1Chemical.html#a7d6b01d6a4a49ea543f10ba8a8fdf794">compareAtomNums</a>($namedRecognitionTargets{$_}-&gt;{atomNum}, $component-&gt;{atomNum}) </div>
<div class="line">                &amp;&amp; ((exists $component-&gt;{charge}) </div>
<div class="line">                    ? ((exists $namedRecognitionTargets{$_}-&gt;{charge}) ? $namedRecognitionTargets{$_}-&gt;{charge} == $component-&gt;{charge} : 0 ) </div>
<div class="line">                    : ((exists $namedRecognitionTargets{$_}-&gt;{charge}) ? 0 : 1)) } </div>
<div class="line">                keys %namedRecognitionTargets;</div>
<div class="line">            <span class="keywordflow">if</span> (scalar @allMatches &gt; 0){</div>
<div class="line">                <span class="keywordflow">if</span> (scalar @allMatches &gt; 1){</div>
<div class="line"><span class="preprocessor">                    #warn &quot;There shouldn&#39;t be more than 1 match. &quot;;</span></div>
<div class="line">                }</div>
<div class="line">                $match = $allMatches[0];</div>
<div class="line">                </div>
<div class="line">                <span class="keywordflow">if</span> ($index &gt; 0 &amp;&amp; $text =~ /\S$/g){</div>
<div class="line">                    $text .= <span class="stringliteral">&#39;\\ &#39;</span>;</div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line">                my $elementName = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><span class="preprocessor">                # If covalent and 2nd component</span></div>
<div class="line"><span class="preprocessor">                # need to use the ide version of the nonmetal.  This algorithm only gets the element name since it has no charge.</span></div>
<div class="line">                <span class="keywordflow">if</span> ($self-&gt;{bonding} == 2 &amp;&amp; $index == 1){</div>
<div class="line">                    <span class="keywordflow">if</span> (exists($component-&gt;{<a class="code" href="classChemical_1_1Chemical.html#a84f78c92b5c18748b24cc5e07b5133bb">name</a>})){</div>
<div class="line">                        $elementName = $component-&gt;{<a class="code" href="classChemical_1_1Chemical.html#a84f78c92b5c18748b24cc5e07b5133bb">name</a>};</div>
<div class="line">                    }<span class="keywordflow">else</span> {</div>
<div class="line">                        my @allMatches = grep { <a class="code" href="classChemical_1_1Chemical.html#a7d6b01d6a4a49ea543f10ba8a8fdf794">compareAtomNums</a>($namedRecognitionTargets{$_}-&gt;{atomNum}, $component-&gt;{atomNum}) </div>
<div class="line">                            &amp;&amp;  exists $namedRecognitionTargets{$_}-&gt;{charge} } </div>
<div class="line">                            keys %namedRecognitionTargets;</div>
<div class="line">                        <span class="keywordflow">if</span> (scalar @allMatches &gt; 1){</div>
<div class="line"><span class="preprocessor">                            #warn &quot;There shouldn&#39;t be more than 1 match. &quot;;</span></div>
<div class="line">                        }</div>
<div class="line">                        $match = $allMatches[0];</div>
<div class="line">                        $elementName = $match;</div>
<div class="line">                    }</div>
<div class="line">                } <span class="keywordflow">else</span> {</div>
<div class="line">                    $elementName = $match;</div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">                #if covalent, use prefix</span></div>
<div class="line">                <span class="keywordflow">if</span> ($self-&gt;{bonding} == 2){</div>
<div class="line"><span class="preprocessor">                    # only use it if not 1 for 1st element</span></div>
<div class="line"> </div>
<div class="line">                    <span class="keywordflow">if</span> (exists($component-&gt;{prefix})){</div>
<div class="line">                        my $prefix = $prefixesCovalent{$component-&gt;{prefix}};</div>
<div class="line"><span class="preprocessor">                        # check if ending of prefix and beginning of element are a letter combination where a vowel must be dropped</span></div>
<div class="line"><span class="preprocessor">                        # i.e. mono oxide =&gt; monoxide,  tetra oxide =&gt; tetroxide</span></div>
<div class="line"><span class="preprocessor">                        # this happens with mono, tetra, penta, hexa (this one is weird), septa, octa, nona, deca</span></div>
<div class="line"><span class="preprocessor">                        # only if element begins with &#39;o&#39;</span></div>
<div class="line">                        <span class="keywordflow">if</span> ($elementName =~ /^o/){</div>
<div class="line">                            $prefix =~ s/[ao]$<span class="comment">//g;</span></div>
<div class="line">                        }</div>
<div class="line">                        $text .= $prefix;</div>
<div class="line">                    } elsif ($index &gt; 0 || $component-&gt;{count} &gt; 1){</div>
<div class="line">                        my $prefix = $prefixesCovalent{$component-&gt;{count}};</div>
<div class="line"><span class="preprocessor">                        # check if ending of prefix and beginning of element are a letter combination where a vowel must be dropped</span></div>
<div class="line"><span class="preprocessor">                        # i.e. mono oxide =&gt; monoxide,  tetra oxide =&gt; tetroxide</span></div>
<div class="line"><span class="preprocessor">                        # this happens with mono, tetra, penta, hexa (this one is weird), septa, octa, nona, deca</span></div>
<div class="line"><span class="preprocessor">                        # only if element begins with &#39;o&#39;</span></div>
<div class="line">                        <span class="keywordflow">if</span> ($elementName =~ /^o/){</div>
<div class="line">                            $prefix =~ s/[ao]$<span class="comment">//g;</span></div>
<div class="line">                        }</div>
<div class="line">                        $text .= $prefix;</div>
<div class="line">                    }</div>
<div class="line">                } </div>
<div class="line"> </div>
<div class="line">                $text .= $elementName;</div>
<div class="line"> </div>
<div class="line">            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="preprocessor">                # no matches.  sodium in sodium chloride won&#39;t match because &quot;sodium&quot; has no charge as the default element,</span></div>
<div class="line"><span class="preprocessor">                # but the compound version does.  Need to relax charge restrictions</span></div>
<div class="line"><span class="preprocessor">                # Only metal ions here.</span></div>
<div class="line">                my @allMatches = grep { <a class="code" href="classChemical_1_1Chemical.html#a7d6b01d6a4a49ea543f10ba8a8fdf794">compareAtomNums</a>($namedRecognitionTargets{$_}-&gt;{atomNum}, $component-&gt;{atomNum}) } </div>
<div class="line">                keys %namedRecognitionTargets;</div>
<div class="line">                <span class="keywordflow">if</span> (scalar @allMatches &gt; 0){</div>
<div class="line">                    <span class="keywordflow">if</span> (scalar @allMatches &gt; 1){</div>
<div class="line"><span class="preprocessor">                        #warn &quot;There shouldn&#39;t be more than 1 match. &quot;;</span></div>
<div class="line">                    }</div>
<div class="line">                    $match = $allMatches[0];</div>
<div class="line">                    <span class="keywordflow">if</span> ($text =~ /\S$/g){</div>
<div class="line">                        $text .= <span class="stringliteral">&#39;\\ &#39;</span>;</div>
<div class="line">                    }</div>
<div class="line">                    $text .= <span class="stringliteral">&quot;$match&quot;</span>;</div>
<div class="line">                }</div>
<div class="line"><span class="preprocessor">                # check if type II metal by checking if metal has common ion (type I).  If type II, add roman numeral charge</span></div>
<div class="line"><span class="preprocessor">                # we can ignore polyatomics (they have an array for atomic number)</span></div>
<div class="line">                <span class="keywordflow">if</span> (ref($component-&gt;{atomNum}) ne <span class="stringliteral">&#39;ARRAY&#39;</span>){</div>
<div class="line">                    <span class="keywordflow">if</span> (!exists $standardIons{$component-&gt;{atomNum}}){</div>
<div class="line"><span class="preprocessor">                        #warn $match . &#39; is type II&#39;;</span></div>
<div class="line">                        $text .= <span class="stringliteral">&#39;\\ (&#39;</span> . $romanNumerals{$component-&gt;{charge}} . <span class="charliteral">&#39;)&#39;</span>;</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line">                $component-&gt;{atomNum}</div>
<div class="line">            }</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="preprocessor">            # write formula!</span></div>
<div class="line">            </div>
<div class="line">            <span class="keywordflow">if</span> (exists $component-&gt;{charge}) {</div>
<div class="line">                $overallCharge += $component-&gt;{charge} * $component-&gt;{count};</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">if</span> (ref($component-&gt;{atomNum}) eq <span class="stringliteral">&#39;ARRAY&#39;</span>){</div>
<div class="line"> </div>
<div class="line">                $polyatomic = $component-&gt;{polyAtomic}-&gt;{<a class="code" href="classChemical_1_1Chemical.html#a4efb48a608d71bb892ad24fe68a22b54">TeX</a>};</div>
<div class="line">                $polyatomic =~ s/\^.*<span class="comment">//g; # removing these because it&#39;s in a compound.  We don&#39;t show charge.</span></div>
<div class="line">                </div>
<div class="line">                <span class="keywordflow">if</span> ($component-&gt;{count} &gt; 1){</div>
<div class="line">                    $text .= <span class="stringliteral">&quot;($polyatomic)&quot;</span>;</div>
<div class="line">                } <span class="keywordflow">else</span> {</div>
<div class="line">                    $text .= $polyatomic;</div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line">            }<span class="keywordflow">else</span>{</div>
<div class="line">                $text .= @elements[$component-&gt;{atomNum}-1];</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">if</span> ($component-&gt;{count} &gt; 1) {</div>
<div class="line">                $text .= <span class="stringliteral">&#39;_{&#39;</span> . $component-&gt;{count} . <span class="charliteral">&#39;}&#39;</span>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        $index++;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> ($overallCharge != 0){</div>
<div class="line">        my $sign = $overallCharge &gt; 0 ? <span class="stringliteral">&quot;+&quot;</span> : <span class="stringliteral">&quot;-&quot;</span>; </div>
<div class="line">        my $value = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line">        <span class="keywordflow">if</span> (abs($overallCharge) != 1){</div>
<div class="line">            $value = abs($overallCharge);</div>
<div class="line">        }</div>
<div class="line">        $text .= <span class="stringliteral">&quot;^{$value$sign}&quot;</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    $text .= <span class="charliteral">&#39;}&#39;</span>;</div>
<div class="line">    <span class="keywordflow">return</span> $text;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="contextChemical_8pl_source.html">contextChemical.pl</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="aclassChemical_1_1Chemical_html_a7b9c1a5f8da8cf9e7f5661e46d67980f"><div class="ttname"><a href="classChemical_1_1Chemical.html#a7b9c1a5f8da8cf9e7f5661e46d67980f">Chemical::Chemical::isElement</a></div><div class="ttdeci">public method isElement()</div></div>
<div class="ttc" id="aclassChemical_1_1Chemical_html_a350d262cab9b807a3e4ea2233808624b"><div class="ttname"><a href="classChemical_1_1Chemical.html#a350d262cab9b807a3e4ea2233808624b">Chemical::Chemical::boilingPoint</a></div><div class="ttdeci">public method boilingPoint()</div></div>
<div class="ttc" id="aclassChemical_1_1Chemical_html_a3a6eab611ae5195d099d2503df02f376"><div class="ttname"><a href="classChemical_1_1Chemical.html#a3a6eab611ae5195d099d2503df02f376">Chemical::Chemical::grade</a></div><div class="ttdeci">public method grade()</div></div>
<div class="ttc" id="aclassInexactValue_1_1InexactValue_html_abe7f125b988b41430a51ae58d8821aa7"><div class="ttname"><a href="classInexactValue_1_1InexactValue.html#abe7f125b988b41430a51ae58d8821aa7">InexactValue::InexactValue::new</a></div><div class="ttdeci">public method new(scalar x)</div><div class="ttdoc">Constructor.  Example: new('1.30')  Example: new([1.3, 3])</div></div>
<div class="ttc" id="aclassChemical_1_1Chemical_html_a3eada73cd865e4c7058ab91787292a77"><div class="ttname"><a href="classChemical_1_1Chemical.html#a3eada73cd865e4c7058ab91787292a77">Chemical::Chemical::molarMass</a></div><div class="ttdeci">public method molarMass()</div></div>
<div class="ttc" id="aclassChemical_1_1Chemical_html_ac30d7484e73959118dbd3fe80e98a70d"><div class="ttname"><a href="classChemical_1_1Chemical.html#ac30d7484e73959118dbd3fe80e98a70d">Chemical::Chemical::superscript</a></div><div class="ttdeci">public method superscript()</div></div>
<div class="ttc" id="aclassInexactValue_1_1InexactValue_html"><div class="ttname"><a href="classInexactValue_1_1InexactValue.html">InexactValue::InexactValue</a></div><div class="ttdoc">Here's where I describe the internals...</div><div class="ttdef"><b>Definition:</b> <a href="contextInexactValue_8pl_source.html#l00101">contextInexactValue.pl:101</a></div></div>
<div class="ttc" id="aclassChemical_1_1Chemical_html_ac565c9d97de5e661cb28f3388e22d539"><div class="ttname"><a href="classChemical_1_1Chemical.html#ac565c9d97de5e661cb28f3388e22d539">Chemical::Chemical::cmp_parse</a></div><div class="ttdeci">public method cmp_parse()</div></div>
<div class="ttc" id="aclassChemical_1_1Chemical_html_aa26b734c5d5bc68c35cc9c308a12a48f"><div class="ttname"><a href="classChemical_1_1Chemical.html#aa26b734c5d5bc68c35cc9c308a12a48f">Chemical::Chemical::asFormulaTeX</a></div><div class="ttdeci">public method asFormulaTeX()</div></div>
<div class="ttc" id="aclassChemical_1_1Chemical_html_ac7d0fe3ed0cbcddf47a52ea3daa06b70"><div class="ttname"><a href="classChemical_1_1Chemical.html#ac7d0fe3ed0cbcddf47a52ea3daa06b70">Chemical::Chemical::standardState</a></div><div class="ttdeci">public method standardState()</div></div>
<div class="ttc" id="aclassChemical_1_1Chemical_html_aa9aec9275edcf1ec15f3e387f2e73568"><div class="ttname"><a href="classChemical_1_1Chemical.html#aa9aec9275edcf1ec15f3e387f2e73568">Chemical::Chemical::cmp_class</a></div><div class="ttdeci">public method cmp_class()</div></div>
<div class="ttc" id="aclassChemical_1_1Chemical_html_ac7697e8ac5e45f32e16994f60f826437"><div class="ttname"><a href="classChemical_1_1Chemical.html#ac7697e8ac5e45f32e16994f60f826437">Chemical::Chemical::guid</a></div><div class="ttdeci">public method guid()</div></div>
<div class="ttc" id="aclassChemical_1_1Chemical_html_a8e9147000f312b6550bdf262fd52605b"><div class="ttname"><a href="classChemical_1_1Chemical.html#a8e9147000f312b6550bdf262fd52605b">Chemical::Chemical::subscriptReverse</a></div><div class="ttdeci">public method subscriptReverse()</div></div>
<div class="ttc" id="aclassChemical_1_1Chemical_html_a1e7cedcbd27854083e464e78c3da1195"><div class="ttname"><a href="classChemical_1_1Chemical.html#a1e7cedcbd27854083e464e78c3da1195">Chemical::Chemical::asNameString</a></div><div class="ttdeci">public method asNameString()</div></div>
<div class="ttc" id="aclassChemical_1_1Chemical_html_aa7d8cddfa2180c625e03b776ea9301ca"><div class="ttname"><a href="classChemical_1_1Chemical.html#aa7d8cddfa2180c625e03b776ea9301ca">Chemical::Chemical::gcd</a></div><div class="ttdeci">public method gcd()</div></div>
<div class="ttc" id="aclassChemical_1_1Chemical_html_af2263a4e14151d9fd09da54290ddf47c"><div class="ttname"><a href="classChemical_1_1Chemical.html#af2263a4e14151d9fd09da54290ddf47c">Chemical::Chemical::asFormulaString</a></div><div class="ttdeci">public method asFormulaString()</div></div>
<div class="ttc" id="aclassChemical_1_1Chemical_html_ab0e51e646092435c11ebb11d9b3f29b6"><div class="ttname"><a href="classChemical_1_1Chemical.html#ab0e51e646092435c11ebb11d9b3f29b6">Chemical::Chemical::meltingPoint</a></div><div class="ttdeci">public method meltingPoint()</div></div>
<div class="ttc" id="aclassChemical_1_1Chemical_html_adebfb94bc6aea69da3e502345fa7cd25"><div class="ttname"><a href="classChemical_1_1Chemical.html#adebfb94bc6aea69da3e502345fa7cd25">Chemical::Chemical::cmp</a></div><div class="ttdeci">public method cmp()</div></div>
<div class="ttc" id="aclassChemical_1_1Chemical_html_a9b1f8253632a9b700455a0fced4d7ead"><div class="ttname"><a href="classChemical_1_1Chemical.html#a9b1f8253632a9b700455a0fced4d7ead">Chemical::Chemical::parseValue</a></div><div class="ttdeci">public method parseValue()</div></div>
<div class="ttc" id="aclassChemical_1_1Chemical_html_ac25affca7347279037a59fc91655e81b"><div class="ttname"><a href="classChemical_1_1Chemical.html#ac25affca7347279037a59fc91655e81b">Chemical::Chemical::subscript</a></div><div class="ttdeci">public method subscript()</div></div>
<div class="ttc" id="aclassChemical_1_1Chemical_html_a1a1e4b78e4aa8d953d1031f89fad91f6"><div class="ttname"><a href="classChemical_1_1Chemical.html#a1a1e4b78e4aa8d953d1031f89fad91f6">Chemical::Chemical::asNameTeX</a></div><div class="ttdeci">public method asNameTeX()</div></div>
<div class="ttc" id="aclassChemical_1_1Chemical_html_aaff46089885b4de52ad5fb579c784867"><div class="ttname"><a href="classChemical_1_1Chemical.html#aaff46089885b4de52ad5fb579c784867">Chemical::Chemical::superscriptReverse</a></div><div class="ttdeci">public method superscriptReverse()</div></div>
<div class="ttc" id="aclassChemical_1_1Chemical_html_a4efb48a608d71bb892ad24fe68a22b54"><div class="ttname"><a href="classChemical_1_1Chemical.html#a4efb48a608d71bb892ad24fe68a22b54">Chemical::Chemical::TeX</a></div><div class="ttdeci">public method TeX()</div></div>
<div class="ttc" id="aclassChemical_1_1Chemical_html_af0a4ce2a82af034c533c8367e74659e2"><div class="ttname"><a href="classChemical_1_1Chemical.html#af0a4ce2a82af034c533c8367e74659e2">Chemical::Chemical::lcm</a></div><div class="ttdeci">public method lcm()</div></div>
<div class="ttc" id="aclassChemical_1_1Chemical_html_a84f78c92b5c18748b24cc5e07b5133bb"><div class="ttname"><a href="classChemical_1_1Chemical.html#a84f78c92b5c18748b24cc5e07b5133bb">Chemical::Chemical::name</a></div><div class="ttdeci">public method name()</div></div>
<div class="ttc" id="aclassChemical_1_1Chemical_html_a7d6b01d6a4a49ea543f10ba8a8fdf794"><div class="ttname"><a href="classChemical_1_1Chemical.html#a7d6b01d6a4a49ea543f10ba8a8fdf794">Chemical::Chemical::compareAtomNums</a></div><div class="ttdeci">public method compareAtomNums()</div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classChemical.html">Chemical</a></li><li class="navelem"><a class="el" href="classChemical_1_1Chemical.html">Chemical</a></li>
    <li class="footer">Generated on Wed Aug 2 2023 08:40:31 for WeBWorKChemistry by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
