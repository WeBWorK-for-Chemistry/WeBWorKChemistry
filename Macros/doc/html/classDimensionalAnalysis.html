<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>WeBWorKChemistry: DimensionalAnalysis Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">WeBWorKChemistry
   &#160;<span id="projectnumber">0.90</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classDimensionalAnalysis.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classDimensionalAnalysis-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">DimensionalAnalysis Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af61e2f681d4b3da2e9b3716c94856fc9"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDimensionalAnalysis.html#af61e2f681d4b3da2e9b3716c94856fc9">generateProblemLaTeX</a> ()</td></tr>
<tr class="separator:af61e2f681d4b3da2e9b3716c94856fc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaad6fd1885bf9cae602b59df783b340e"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDimensionalAnalysis.html#aaad6fd1885bf9cae602b59df783b340e">generateProblemHTML</a> ()</td></tr>
<tr class="separator:aaad6fd1885bf9cae602b59df783b340e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac260d076d055ea0d046b05d02337604f"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDimensionalAnalysis.html#ac260d076d055ea0d046b05d02337604f">generateProblem</a> ()</td></tr>
<tr class="separator:ac260d076d055ea0d046b05d02337604f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a2627c391d4d0ca32499e5b6987dc23c7"><td class="memItemLeft" align="right" valign="top">static public scalar&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDimensionalAnalysis.html#a2627c391d4d0ca32499e5b6987dc23c7">generateExplanation</a> (array_ref startingArrayRef, array_ref conversionFactorsRef, hash_ref finalAnswer, hash_ref options)</td></tr>
<tr class="memdesc:a2627c391d4d0ca32499e5b6987dc23c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate a LaTeX formated dimensional analysis equation with canceled numerators and denominators where appropriate. <br  />
  <a href="classDimensionalAnalysis.html#a2627c391d4d0ca32499e5b6987dc23c7">More...</a><br /></td></tr>
<tr class="separator:a2627c391d4d0ca32499e5b6987dc23c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="parserDimensionalAnalysis_8pl_source.html#l00793">793</a> of file <a class="el" href="parserDimensionalAnalysis_8pl_source.html">parserDimensionalAnalysis.pl</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a2627c391d4d0ca32499e5b6987dc23c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2627c391d4d0ca32499e5b6987dc23c7">&#9670;&nbsp;</a></span>generateExplanation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">public static scalar DimensionalAnalysis::generateExplanation </td>
          <td>(</td>
          <td class="paramtype">array_ref&#160;</td>
          <td class="paramname"><em>startingArrayRef</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array_ref&#160;</td>
          <td class="paramname"><em>conversionFactorsRef</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">hash_ref&#160;</td>
          <td class="paramname"><em>finalAnswer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">hash_ref&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generate a LaTeX formated dimensional analysis equation with canceled numerators and denominators where appropriate. <br  />
 </p>
<p>The technique used is to parse the starting value's units and final value's units separately. Then match any <br  />
identical units along with those identical in the conversion factors and NOT cancel those out. We assume all other <br  />
units will get canceled out. <br  />
</p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">startingArrayRef</td><td>required - Array for numerator and denominator portion. Denominator is optional. <br  />
</td></tr>
    <tr><td class="paramname">conversionFactorsRef</td><td>required - Array for each conversion factor using terms in pairs. i.e. [numerator1, denominator1, numerator2, denominator2, etc...] <br  />
</td></tr>
    <tr><td class="paramname">finalAnswer</td><td>required - Answer to equation. <br  />
</td></tr>
    <tr><td class="paramname">options</td><td>optional - hash: <br  />
 {explicit}: boolean - requires units to also match string name instead of just hash values. i.e. prevents mL and cm^3 from canceling since they are equivalent <br  />
</td></tr>
  </table>
  </dd>
</dl>

<div id='codesection-generateExplanation' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-generateExplanation-trigger' src='closed.png' alt='open/close icon' style='display:inline'/> <b>Code:</b>
</div>
<div id='codesection-generateExplanation-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-generateExplanation-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in generateExplanation: 229</span></div>
<div class="line">sub <a class="code" href="classDimensionalAnalysis.html#a2627c391d4d0ca32499e5b6987dc23c7">generateExplanation</a> {</div>
<div class="line">    </div>
<div class="line"><span class="preprocessor">    # @retval explanation - string output in LaTeX format.</span></div>
<div class="line"><span class="preprocessor">    #*</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">    # starts with an array in case you want to separate numerator part and denominator part</span></div>
<div class="line">    my $startingArrayRef = shift; </div>
<div class="line"><span class="preprocessor">    # array of conversion factors organized as [numerator,denominator,numerator,denominator,...] </span></div>
<div class="line">    my $conversionFactorsRef = shift;</div>
<div class="line"><span class="preprocessor">    # final pre-calculated answer, NOT an array because we want it shown as one number</span></div>
<div class="line">    my $finalAnswer = shift;</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">    # this is an options optional parameter</span></div>
<div class="line"><span class="preprocessor">    # Added option to check explicit string.  This solves an issue when trying to check</span></div>
<div class="line"><span class="preprocessor">    # if 1 mL = 1 cm^3.  These are equal unit hashes, but in the case of dimensional analysis</span></div>
<div class="line"><span class="preprocessor">    # we may want to show they&#39;re NOT equal, otherwise, in the explanation, these will get canceled out.</span></div>
<div class="line"><span class="preprocessor">    # Maybe we can make this the default, but I&#39;m not sure yet.</span></div>
<div class="line"> </div>
<div class="line">    my $options = shift;</div>
<div class="line">    my $explicit = 0;</div>
<div class="line">    <span class="keywordflow">if</span> (defined $options &amp;&amp; exists $options-&gt;{<span class="keyword">explicit</span>}){</div>
<div class="line">        $explicit = $options-&gt;{<span class="keyword">explicit</span>};</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    my $hasChemicals;</div>
<div class="line">    <span class="keywordflow">if</span> ($options-&gt;{hasChemicals}){</div>
<div class="line">        $hasChemicals = 1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    my $explanation = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"> </div>
<div class="line">    </div>
<div class="line">    @startingArray = @{ $startingArrayRef };</div>
<div class="line"> </div>
<div class="line">    my @finalAnswerUnitArray = <a class="code" href="classInexactValueWithUnits_1_1InexactValueWithUnits.html#a3eb4261d112eda9a9e4cb377457cb616">InexactValueWithUnits::InexactValueWithUnits::process_unit_for_stringCombine</a>($finalAnswer-&gt;{units},{hasChemicals=&gt;$hasChemicals});</div>
<div class="line">    my @finalAnswerUnitArrayCopy = @finalAnswerUnitArray;</div>
<div class="line"> </div>
<div class="line">    </div>
<div class="line">    </div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">    # This is only for the first value!</span></div>
<div class="line"><span class="preprocessor">    # if (scalar(@startingArray) == 2) {</span></div>
<div class="line"><span class="preprocessor">    #   $explanation .= &#39;\frac{&#39;;</span></div>
<div class="line"><span class="preprocessor">    #   $explanation .= @startingArray[0]-&gt;TeX;</span></div>
<div class="line"><span class="preprocessor">    #   $explanation .= &#39;}{&#39;;</span></div>
<div class="line"><span class="preprocessor">    #   $explanation .= @startingArray[1]-&gt;TeX;</span></div>
<div class="line"><span class="preprocessor">    #   $explanation .= &#39;}&#39;;</span></div>
<div class="line"><span class="preprocessor">    # } else {</span></div>
<div class="line"><span class="preprocessor">        #$explanation .= @startingArray[0]-&gt;TeX({shouldCancel=&gt;1});</span></div>
<div class="line"> </div>
<div class="line">    my $val = $startingArray[0]-&gt;{inexactValue};</div>
<div class="line">    my $numeratorUnits = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line">    my $denominatorUnits = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line">            </div>
<div class="line">    @unitArray = <a class="code" href="classInexactValueWithUnits_1_1InexactValueWithUnits.html#a3eb4261d112eda9a9e4cb377457cb616">InexactValueWithUnits::InexactValueWithUnits::process_unit_for_stringCombine</a>($startingArray[0]-&gt;{units},{hasChemicals=&gt;$hasChemicals});</div>
<div class="line">    <span class="keywordflow">foreach</span> $unit (@unitArray){</div>
<div class="line">        $found = 0;</div>
<div class="line">        <span class="keywordflow">for</span> ($i=0; $i &lt; scalar @finalAnswerUnitArrayCopy; $i++){</div>
<div class="line">            <span class="keywordflow">if</span> (<a class="code" href="classInexactValueWithUnits_1_1InexactValueWithUnits.html#ac084cb960b19e412a6e750250cd6016b">InexactValueWithUnits::InexactValueWithUnits::compareUnitHash</a>($unit-&gt;{unitHash}, $finalAnswerUnitArrayCopy[$i]-&gt;{unitHash})){</div>
<div class="line"><span class="preprocessor">                # Same so do NOT cancel out.</span></div>
<div class="line">                splice(@finalAnswerUnitArrayCopy,$i,1);</div>
<div class="line">                <span class="keywordflow">if</span> ($unit-&gt;{power} &gt; 0) {</div>
<div class="line">                    $numeratorUnits .= <span class="stringliteral">&#39;\\mathrm{&#39;</span> . $unit-&gt;{name};</div>
<div class="line">                    <span class="keywordflow">if</span> ($unit-&gt;{power} &gt; 1){</div>
<div class="line">                        $numeratorUnits .= <span class="stringliteral">&#39;^{&#39;</span>.$unit-&gt;{power}.<span class="charliteral">&#39;}&#39;</span>;</div>
<div class="line">                    }</div>
<div class="line">                    $numeratorUnits .= <span class="charliteral">&#39;}&#39;</span>;</div>
<div class="line">                } <span class="keywordflow">else</span> {</div>
<div class="line">                    $denominatorUnits .= <span class="stringliteral">&#39;\\mathrm{&#39;</span> . $unit-&gt;{name};</div>
<div class="line">                    <span class="keywordflow">if</span> ($unit-&gt;{power} &lt; -1){</div>
<div class="line">                        $denominatorUnits .= <span class="stringliteral">&#39;^{&#39;</span>.abs($unit-&gt;{power}).<span class="charliteral">&#39;}&#39;</span>;</div>
<div class="line">                    }</div>
<div class="line">                    $denominatorUnits .= <span class="charliteral">&#39;}&#39;</span>;</div>
<div class="line">                }</div>
<div class="line">                $found=1;</div>
<div class="line">                last;</div>
<div class="line">            } </div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">if</span> ($found==0){</div>
<div class="line">            </div>
<div class="line">            <span class="keywordflow">if</span> ($unit-&gt;{power} &gt; 0) {</div>
<div class="line">                $numeratorUnits .= <span class="stringliteral">&#39;\\cancel{\\mathrm{&#39;</span>;</div>
<div class="line">                $numeratorUnits .= $unit-&gt;{name};</div>
<div class="line">                <span class="keywordflow">if</span> ($unit-&gt;{power} &gt; 1){</div>
<div class="line">                    $numeratorUnits .= <span class="stringliteral">&#39;^{&#39;</span>.$unit-&gt;{power}.<span class="charliteral">&#39;}&#39;</span>;</div>
<div class="line">                }</div>
<div class="line">                $numeratorUnits .= <span class="stringliteral">&#39;}}&#39;</span>;</div>
<div class="line">            } <span class="keywordflow">else</span> {</div>
<div class="line">                $denominatorUnits .= <span class="stringliteral">&#39;\\cancel{\\mathrm{&#39;</span>;</div>
<div class="line">                $denominatorUnits .= $unit-&gt;{name};</div>
<div class="line">                <span class="keywordflow">if</span> ($unit-&gt;{power} &lt; -1){</div>
<div class="line">                    $denominatorUnits .= <span class="stringliteral">&#39;^{&#39;</span>.abs($unit-&gt;{power}).<span class="charliteral">&#39;}&#39;</span>;</div>
<div class="line">                }</div>
<div class="line">                $denominatorUnits .= <span class="stringliteral">&#39;}}&#39;</span>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (scalar(@startingArray) == 2) {</div>
<div class="line">        my $val2 = $startingArray[1]-&gt;{inexactValue};</div>
<div class="line">        my $numeratorUnits2 = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line">        my $denominatorUnits2 = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line">            </div>
<div class="line">        @unitArray = <a class="code" href="classInexactValueWithUnits_1_1InexactValueWithUnits.html#a3eb4261d112eda9a9e4cb377457cb616">InexactValueWithUnits::InexactValueWithUnits::process_unit_for_stringCombine</a>($startingArray[1]-&gt;{units},{hasChemicals=&gt;$hasChemicals});</div>
<div class="line">        <span class="keywordflow">foreach</span> $unit (@unitArray){</div>
<div class="line">            $found = 0;</div>
<div class="line">            <span class="keywordflow">for</span> ($i=0; $i &lt; scalar @finalAnswerUnitArrayCopy; $i++){</div>
<div class="line">                <span class="keywordflow">if</span> (<a class="code" href="classInexactValueWithUnits_1_1InexactValueWithUnits.html#ac084cb960b19e412a6e750250cd6016b">InexactValueWithUnits::InexactValueWithUnits::compareUnitHash</a>($unit-&gt;{unitHash}, $finalAnswerUnitArrayCopy[$i]-&gt;{unitHash})){</div>
<div class="line"><span class="preprocessor">                    # Same so do NOT cancel out.</span></div>
<div class="line">                    splice(@finalAnswerUnitArrayCopy,$i,1);</div>
<div class="line">                    <span class="keywordflow">if</span> ($unit-&gt;{power} &gt; 0) {</div>
<div class="line">                        $numeratorUnits2 .= <span class="stringliteral">&#39;\\mathrm{&#39;</span> . $unit-&gt;{name};</div>
<div class="line">                        <span class="keywordflow">if</span> ($unit-&gt;{power} &gt; 1){</div>
<div class="line">                            $numeratorUnits2 .= <span class="stringliteral">&#39;^{&#39;</span>.$unit-&gt;{power}.<span class="charliteral">&#39;}&#39;</span>;</div>
<div class="line">                        }</div>
<div class="line">                        $numeratorUnits2 .= <span class="charliteral">&#39;}&#39;</span>;</div>
<div class="line">                    } <span class="keywordflow">else</span> {</div>
<div class="line">                        $denominatorUnits2 .= <span class="stringliteral">&#39;\\mathrm{&#39;</span> . $unit-&gt;{name};</div>
<div class="line">                        <span class="keywordflow">if</span> ($unit-&gt;{power} &lt; -1){</div>
<div class="line">                            $denominatorUnits2 .= <span class="stringliteral">&#39;^{&#39;</span>.abs($unit-&gt;{power}).<span class="charliteral">&#39;}&#39;</span>;</div>
<div class="line">                        }</div>
<div class="line">                        $denominatorUnits2 .= <span class="charliteral">&#39;}&#39;</span>;</div>
<div class="line">                    }</div>
<div class="line">                    $found=1;</div>
<div class="line">                    last;</div>
<div class="line">                } </div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">if</span> ($found==0){</div>
<div class="line">                </div>
<div class="line">                <span class="keywordflow">if</span> ($unit-&gt;{power} &gt; 0) {</div>
<div class="line">                    $numeratorUnits2 .= <span class="stringliteral">&#39;\\cancel{\\mathrm{&#39;</span>;</div>
<div class="line">                    $numeratorUnits2 .= $unit-&gt;{name};</div>
<div class="line">                    <span class="keywordflow">if</span> ($unit-&gt;{power} &gt; 1){</div>
<div class="line">                        $numeratorUnits2 .= <span class="stringliteral">&#39;^{&#39;</span>.$unit-&gt;{power}.<span class="charliteral">&#39;}&#39;</span>;</div>
<div class="line">                    }</div>
<div class="line">                    $numeratorUnits2 .= <span class="stringliteral">&#39;}}&#39;</span>;</div>
<div class="line">                } <span class="keywordflow">else</span> {</div>
<div class="line">                    $denominatorUnits2 .= <span class="stringliteral">&#39;\\cancel{\\mathrm{&#39;</span>;</div>
<div class="line">                    $denominatorUnits2 .= $unit-&gt;{name};</div>
<div class="line">                    <span class="keywordflow">if</span> ($unit-&gt;{power} &lt; -1){</div>
<div class="line">                        $denominatorUnits2 .= <span class="stringliteral">&#39;^{&#39;</span>.abs($unit-&gt;{power}).<span class="charliteral">&#39;}&#39;</span>;</div>
<div class="line">                    }</div>
<div class="line">                    $denominatorUnits2 .= <span class="stringliteral">&#39;}}&#39;</span>;</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        $explanation .= <span class="stringliteral">&#39;\frac{&#39;</span>;</div>
<div class="line">        <span class="keywordflow">if</span> ($denominatorUnits eq <span class="stringliteral">&#39;&#39;</span>){</div>
<div class="line">            $explanation .= $val-&gt;TeX() . <span class="stringliteral">&#39;\\,&#39;</span>. $numeratorUnits;</div>
<div class="line">        } <span class="keywordflow">else</span>{</div>
<div class="line">            $explanation .= $val-&gt;TeX() . <span class="stringliteral">&#39;\\,&#39;</span>. <span class="stringliteral">&#39;\\frac{&#39;</span> . $numeratorUnits . <span class="stringliteral">&#39;}{&#39;</span> . $denominatorUnits . <span class="charliteral">&#39;}&#39;</span>;</div>
<div class="line">        }</div>
<div class="line">        $explanation .= <span class="stringliteral">&#39;}{&#39;</span>;</div>
<div class="line">        <span class="keywordflow">if</span> ($denominatorUnits2 eq <span class="stringliteral">&#39;&#39;</span>){</div>
<div class="line">            $explanation .= $val2-&gt;TeX() . <span class="stringliteral">&#39;\\,&#39;</span> . $numeratorUnits2;</div>
<div class="line">        } <span class="keywordflow">else</span>{</div>
<div class="line">            $explanation .= $val2-&gt;TeX() . <span class="stringliteral">&#39;\\,&#39;</span>. <span class="stringliteral">&#39;\\frac{&#39;</span> . $numeratorUnits2 . <span class="stringliteral">&#39;}{&#39;</span> . $denominatorUnits2 . <span class="charliteral">&#39;}&#39;</span>;</div>
<div class="line">        }</div>
<div class="line"><span class="preprocessor">        #$explanation .= $val2-&gt;TeX() .$numeratorUnits2;</span></div>
<div class="line">        $explanation .= <span class="charliteral">&#39;}&#39;</span>;</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="keywordflow">if</span> ($denominatorUnits eq <span class="stringliteral">&#39;&#39;</span>){</div>
<div class="line">            $explanation .= $val-&gt;TeX() . <span class="charliteral">&#39;\,&#39;</span>. $numeratorUnits;</div>
<div class="line">        } <span class="keywordflow">else</span>{</div>
<div class="line">            $explanation .= <span class="stringliteral">&#39;\\frac{&#39;</span> . $val-&gt;TeX() . <span class="stringliteral">&#39;\\,&#39;</span>. $numeratorUnits . <span class="stringliteral">&#39;}{&#39;</span> .<span class="stringliteral">&#39;1\\,&#39;</span>. $denominatorUnits . <span class="charliteral">&#39;}&#39;</span>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">        </div>
<div class="line">        </div>
<div class="line"><span class="preprocessor">    # }</span></div>
<div class="line">    </div>
<div class="line"><span class="preprocessor">    # now parse the dimensional analysis part</span></div>
<div class="line">    @conversionFactors = @{ $conversionFactorsRef };</div>
<div class="line">    <span class="keywordflow">for</span> ($i=0; $i &lt; scalar @conversionFactors; $i++){</div>
<div class="line">        $isDenominator = $i % 2;</div>
<div class="line">        $found = 0;</div>
<div class="line"><span class="preprocessor">        # for $key (keys %{$conversionFactors[$i]-&gt;{units_ref}}){</span></div>
<div class="line"><span class="preprocessor">        #   warn $key .&#39;: &#39;. $conversionFactors[$i]-&gt;{units_ref}-&gt;{$key};</span></div>
<div class="line"><span class="preprocessor">        # }</span></div>
<div class="line">        <span class="keywordflow">for</span> ($j=0; $j &lt; scalar @finalAnswerUnitArrayCopy; $j++){</div>
<div class="line">            </div>
<div class="line"><span class="preprocessor">            # for $key (keys %{$finalAnswerUnitArrayCopy[$j]-&gt;{unitHash}}){</span></div>
<div class="line"><span class="preprocessor">            #   warn $key .&#39;: &#39;. $finalAnswerUnitArrayCopy[$j]-&gt;{unitHash}-&gt;{$key};</span></div>
<div class="line"><span class="preprocessor">            # }</span></div>
<div class="line">            warn %{$conversionFactors[$i]-&gt;{units_ref}};</div>
<div class="line">            warn %{$finalAnswerUnitArrayCopy[$j]};</div>
<div class="line">            warn %{$finalAnswerUnitArrayCopy[$j]-&gt;{unitHash}};</div>
<div class="line"><span class="preprocessor">            # FLAW: if units are technically the same, they&#39;ll cancel... 1 mL / 1 cm^3... this cancels when it shouldn&#39;t if being explicit...</span></div>
<div class="line">            <span class="keywordflow">if</span> (<a class="code" href="classInexactValueWithUnits_1_1InexactValueWithUnits.html#ac084cb960b19e412a6e750250cd6016b">InexactValueWithUnits::InexactValueWithUnits::compareUnitHash</a>($conversionFactors[$i]-&gt;{units_ref}, $finalAnswerUnitArrayCopy[$j]-&gt;{unitHash})){</div>
<div class="line"><span class="preprocessor">                # check explicit option</span></div>
<div class="line">                unless ($explicit &amp;&amp; $conversionFactors[$i]-&gt;{units} ne $finalAnswer-&gt;{units}){</div>
<div class="line"><span class="preprocessor">                    # must be same text.... this is reasonable for a solution where the units are written according to some standard</span></div>
<div class="line"><span class="preprocessor">                    # Same so do NOT cancel out.</span></div>
<div class="line">                    splice(@finalAnswerUnitArrayCopy,$j,1); </div>
<div class="line">                    warn <span class="stringliteral">&quot;HERE&quot;</span>;</div>
<div class="line"> </div>
<div class="line">                    <span class="keywordflow">if</span> ($isDenominator){</div>
<div class="line">                        $explanation .= <span class="charliteral">&#39;{&#39;</span>. $conversionFactors[$i]-&gt;TeX . <span class="charliteral">&#39;}&#39;</span>;</div>
<div class="line">                    } <span class="keywordflow">else</span> {</div>
<div class="line">                        $explanation .= <span class="stringliteral">&#39;\\times&#39;</span>;</div>
<div class="line">                        $explanation .= <span class="stringliteral">&#39;\\frac{&#39;</span> . $conversionFactors[$i]-&gt;TeX . <span class="charliteral">&#39;}&#39;</span>;</div>
<div class="line">                    }</div>
<div class="line">                    $found=1;</div>
<div class="line">                    last;</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"><span class="preprocessor">        #doesn&#39;t match units with answer, so cancel it.</span></div>
<div class="line">        <span class="keywordflow">if</span> ($found == 0){</div>
<div class="line">            <span class="keywordflow">if</span> ($isDenominator){</div>
<div class="line">                $explanation .= <span class="charliteral">&#39;{&#39;</span> . $conversionFactors[$i]-&gt;TeX({shouldCancel=&gt;1}) . <span class="charliteral">&#39;}&#39;</span>;</div>
<div class="line"><span class="preprocessor">                #$explanation .= &#39;{&#39;. $conversionFactors[$i]-&gt;{inexactValue} . &#39;\cancel{\rm &#39;. $conversionFactors[$i]-&gt;{units} . &#39;}}&#39;;</span></div>
<div class="line">            } <span class="keywordflow">else</span> {</div>
<div class="line">                warn <span class="stringliteral">&#39;here?&#39;</span>;</div>
<div class="line">                warn $conversionFactors[$i];</div>
<div class="line">                $explanation .= <span class="stringliteral">&#39;\\times&#39;</span>;</div>
<div class="line">                $explanation .= <span class="stringliteral">&#39;\\frac{&#39;</span> . $conversionFactors[$i]-&gt;TeX({shouldCancel=&gt;1}) . <span class="charliteral">&#39;}&#39;</span>;</div>
<div class="line"><span class="preprocessor">                #$explanation .= &#39;\frac{&#39; . $conversionFactors[$i]-&gt;{inexactValue} . &#39;\cancel{\rm &#39; . $conversionFactors[$i]-&gt;{units} . &#39;}}&#39;;</span></div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    $explanation .= <span class="charliteral">&#39;=&#39;</span> . $finalAnswer-&gt;TeX;</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span>  $explanation;</div>
<div class="line"> </div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
 
</div>
</div>
<a id="ac260d076d055ea0d046b05d02337604f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac260d076d055ea0d046b05d02337604f">&#9670;&nbsp;</a></span>generateProblem()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method DimensionalAnalysis::generateProblem </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method </p>
<div id='codesection-generateProblem' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-generateProblem-trigger' src='closed.png' alt='open/close icon' style='display:inline'/> <b>Code:</b>
</div>
<div id='codesection-generateProblem-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-generateProblem-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in generateProblem: 10</span></div>
<div class="line">sub <a class="code" href="classDimensionalAnalysis.html#ac260d076d055ea0d046b05d02337604f">generateProblem</a> {</div>
<div class="line"> </div>
<div class="line">    my $start = shift;</div>
<div class="line">    my $colsref = shift;</div>
<div class="line">    my $n = scalar @{$colsref};</div>
<div class="line">    my $end = shift;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> main::MODES(HTML=&gt;<a class="code" href="classDimensionalAnalysis.html#aaad6fd1885bf9cae602b59df783b340e">generateProblemHTML</a>($start, $colsref, $end), TeX=&gt;<a class="code" href="classDimensionalAnalysis.html#af61e2f681d4b3da2e9b3716c94856fc9">generateProblemLaTeX</a>($start, $colsref, $end));</div>
<div class="line">    </div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
 
</div>
</div>
<a id="aaad6fd1885bf9cae602b59df783b340e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaad6fd1885bf9cae602b59df783b340e">&#9670;&nbsp;</a></span>generateProblemHTML()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method DimensionalAnalysis::generateProblemHTML </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method </p>
<div id='codesection-generateProblemHTML' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-generateProblemHTML-trigger' src='closed.png' alt='open/close icon' style='display:inline'/> <b>Code:</b>
</div>
<div id='codesection-generateProblemHTML-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-generateProblemHTML-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in generateProblemHTML: 40</span></div>
<div class="line">sub <a class="code" href="classDimensionalAnalysis.html#aaad6fd1885bf9cae602b59df783b340e">generateProblemHTML</a> {</div>
<div class="line">    my $start = shift;</div>
<div class="line">    my $colsref = shift;</div>
<div class="line">    my $n = scalar @{$colsref};</div>
<div class="line">    my $end = shift;</div>
<div class="line">    my $html;</div>
<div class="line">    $html .= <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line">    $html .= <span class="stringliteral">&#39;&lt;div class=&quot;dimensionalAnalysis&quot;&gt;&#39;</span>;</div>
<div class="line">    $html .= <span class="stringliteral">&#39;&lt;div&gt;&#39;</span>;</div>
<div class="line">    $html .= <span class="stringliteral">&#39;$$ &#39;</span> . $start-&gt;TeX . <span class="stringliteral">&#39; $$&#39;</span>;  #<span class="keyword">this</span> forces the number to display as LaTeX </div>
<div class="line">    $html .= <span class="stringliteral">&#39;&lt;/div&gt;&#39;</span>;</div>
<div class="line">    <span class="keywordflow">for</span> ($i=0; $i &lt; $n; $i+=2) {</div>
<div class="line">        $html .= <span class="stringliteral">&#39;&lt;div class=&quot;dimensionalAnalysisMath&quot;&gt;&#39;</span>;</div>
<div class="line">            $html .= main::math_ev3(<span class="stringliteral">&#39;\times&#39;</span>);</div>
<div class="line">        $html .= <span class="stringliteral">&#39;&lt;/div&gt;&#39;</span>;</div>
<div class="line">        $html .= <span class="stringliteral">&#39;&lt;div class=&quot;dimensionalAnalysisCol&quot;&gt;&#39;</span>;</div>
<div class="line">            $html .= <span class="stringliteral">&#39;&lt;div&gt;&#39;</span>;</div>
<div class="line">                $html .= $colsref-&gt;[$i];</div>
<div class="line">            $html .= <span class="stringliteral">&#39;&lt;/div&gt;&#39;</span>;       </div>
<div class="line">            $html .= <span class="stringliteral">&#39;&lt;div class=&quot;dimensionalAnalysisFractionBar&quot;&gt;&#39;</span>;</div>
<div class="line">                $html .= <span class="stringliteral">&#39;&lt;svg height=&quot;1&quot; width=&quot;40&quot;&gt;&#39;</span>;</div>
<div class="line">                    $html .= <span class="stringliteral">&#39;&lt;desc&gt;per&lt;/desc&gt;&#39;</span>;</div>
<div class="line">                $html .= <span class="stringliteral">&#39;&lt;/svg&gt;&#39;</span>;</div>
<div class="line">            $html .= <span class="stringliteral">&#39;&lt;/div&gt;&#39;</span>;       </div>
<div class="line">            $html .= <span class="stringliteral">&#39;&lt;div&gt;&#39;</span>;</div>
<div class="line">                $html .= $colsref-&gt;[$i+1];</div>
<div class="line">            $html .= <span class="stringliteral">&#39;&lt;/div&gt;&#39;</span>;       </div>
<div class="line">        $html .= <span class="stringliteral">&#39;&lt;/div&gt;&#39;</span>;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    $html .= <span class="stringliteral">&#39;&lt;div  class=&quot;dimensionalAnalysisMath&quot;&gt;&#39;</span>;</div>
<div class="line">        $html .= main::math_ev3(<span class="stringliteral">&#39;{}={}&#39;</span>);</div>
<div class="line">    $html .= <span class="stringliteral">&#39;&lt;/div&gt;&#39;</span>;</div>
<div class="line">    $html .= <span class="stringliteral">&#39;&lt;div&gt;&#39;</span>;</div>
<div class="line">        $html .= $end;</div>
<div class="line">    $html .= <span class="stringliteral">&#39;&lt;/div&gt;&#39;</span>;</div>
<div class="line">    $html .= <span class="stringliteral">&#39;&lt;/div&gt;&#39;</span>;</div>
<div class="line">    $html .= <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line">    <span class="keywordflow">return</span> $html;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
 
</div>
</div>
<a id="af61e2f681d4b3da2e9b3716c94856fc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af61e2f681d4b3da2e9b3716c94856fc9">&#9670;&nbsp;</a></span>generateProblemLaTeX()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method DimensionalAnalysis::generateProblemLaTeX </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method </p>
<div id='codesection-generateProblemLaTeX' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
	<img id='codesection-generateProblemLaTeX-trigger' src='closed.png' alt='open/close icon' style='display:inline'/> <b>Code:</b>
</div>
<div id='codesection-generateProblemLaTeX-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-generateProblemLaTeX-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in generateProblemLaTeX: 19</span></div>
<div class="line">sub <a class="code" href="classDimensionalAnalysis.html#af61e2f681d4b3da2e9b3716c94856fc9">generateProblemLaTeX</a> {</div>
<div class="line">    my $start = shift;</div>
<div class="line">    my $colsref = shift;</div>
<div class="line">    my $n = scalar @{$colsref};</div>
<div class="line">    my $end = shift;</div>
<div class="line">    my $tex;</div>
<div class="line">    $tex .= <span class="stringliteral">&#39;$ &#39;</span>;# . $start-&gt;TeX();</div>
<div class="line">    $tex .= $start-&gt;TeX;</div>
<div class="line">    <span class="keywordflow">for</span> ($i=0; $i &lt; $n; $i+=2) {</div>
<div class="line">        $tex .= <span class="stringliteral">&#39;\times&#39;</span>;</div>
<div class="line">        $tex .= <span class="stringliteral">&#39;\frac&#39;</span>;</div>
<div class="line">        $tex .= <span class="stringliteral">&#39;{\hspace{2cm}}&#39;</span>;</div>
<div class="line">        $tex .= <span class="stringliteral">&#39;{\hspace{2cm}}&#39;</span>;</div>
<div class="line">    }</div>
<div class="line">    $tex .= <span class="stringliteral">&#39; = &#39;</span>;</div>
<div class="line">    $tex .=<span class="stringliteral">&#39;\fbox{\phantom{placeholder}}&#39;</span>;</div>
<div class="line">    $tex .= <span class="stringliteral">&#39; $&#39;</span>;</div>
<div class="line">    <span class="keywordflow">return</span> $tex;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="parserDimensionalAnalysis_8pl_source.html">parserDimensionalAnalysis.pl</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="aclassDimensionalAnalysis_html_ac260d076d055ea0d046b05d02337604f"><div class="ttname"><a href="classDimensionalAnalysis.html#ac260d076d055ea0d046b05d02337604f">DimensionalAnalysis::generateProblem</a></div><div class="ttdeci">public method generateProblem()</div></div>
<div class="ttc" id="aclassDimensionalAnalysis_html_a2627c391d4d0ca32499e5b6987dc23c7"><div class="ttname"><a href="classDimensionalAnalysis.html#a2627c391d4d0ca32499e5b6987dc23c7">DimensionalAnalysis::generateExplanation</a></div><div class="ttdeci">static public scalar generateExplanation(array_ref startingArrayRef, array_ref conversionFactorsRef, hash_ref finalAnswer, hash_ref options)</div><div class="ttdoc">Generate a LaTeX formated dimensional analysis equation with canceled numerators and denominators whe...</div></div>
<div class="ttc" id="aclassDimensionalAnalysis_html_af61e2f681d4b3da2e9b3716c94856fc9"><div class="ttname"><a href="classDimensionalAnalysis.html#af61e2f681d4b3da2e9b3716c94856fc9">DimensionalAnalysis::generateProblemLaTeX</a></div><div class="ttdeci">public method generateProblemLaTeX()</div></div>
<div class="ttc" id="aclassInexactValueWithUnits_1_1InexactValueWithUnits_html_ac084cb960b19e412a6e750250cd6016b"><div class="ttname"><a href="classInexactValueWithUnits_1_1InexactValueWithUnits.html#ac084cb960b19e412a6e750250cd6016b">InexactValueWithUnits::InexactValueWithUnits::compareUnitHash</a></div><div class="ttdeci">public method compareUnitHash()</div></div>
<div class="ttc" id="aclassDimensionalAnalysis_html_aaad6fd1885bf9cae602b59df783b340e"><div class="ttname"><a href="classDimensionalAnalysis.html#aaad6fd1885bf9cae602b59df783b340e">DimensionalAnalysis::generateProblemHTML</a></div><div class="ttdeci">public method generateProblemHTML()</div></div>
<div class="ttc" id="aclassInexactValueWithUnits_1_1InexactValueWithUnits_html_a3eb4261d112eda9a9e4cb377457cb616"><div class="ttname"><a href="classInexactValueWithUnits_1_1InexactValueWithUnits.html#a3eb4261d112eda9a9e4cb377457cb616">InexactValueWithUnits::InexactValueWithUnits::process_unit_for_stringCombine</a></div><div class="ttdeci">static public array process_unit_for_stringCombine(scalar s, hash_ref options)</div><div class="ttdoc">Process string units into array of unit hashes. This particular function only  separates numerator an...</div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classDimensionalAnalysis.html">DimensionalAnalysis</a></li>
    <li class="footer">Generated on Wed Aug 2 2023 08:40:31 for WeBWorKChemistry by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
